<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>CREATOR - didaCtic and geneRic assEmbly progrAmming simulaTOR</title>

    <!-- Required stylesheets -->
    <link type="text/css" rel="stylesheet" href="external/bootstrap.min.css"/>
    <link type="text/css" rel="stylesheet" href="external/bootstrap-vue.css"/>
    <link type="text/css" rel='stylesheet' href="external/fontawesome/css/all.css">
    <link rel="stylesheet" href="external/codemirror/codemirror.css">
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Required scripts -->
    <script src="external/vue"></script>
    <script src="external/polyfill.min.js"></script>
    <script src="external/bootstrap-vue.js"></script>
    <script src="external/jquery.min.js"></script>
    <script src="external/BigInteger.min.js"></script>
    <script src="external/lodash.js"></script>

    <script src="external/codemirror/codemirror.js"></script>
    <script src="external/codemirror/keymap/vim.js"></script>
    <script src="external/codemirror/keymap/sublime.js"></script>
    <script src="external/codemirror/mode/gas/gas.js"></script>
    <script src="external/codemirror/mode/javascript/javascript.js"></script>
    <script src="external/codemirror/addon/display/autorefresh.js"></script>
    <script src="external/codemirror/addon/comment/comment.js"></script>
    <script src="external/codemirror/addon/hint/show-hint.js"></script>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="./images/icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./images/icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./images/icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./images/icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./images/icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./images/icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./images/icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./images/icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./images/icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="./images/icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./images/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./images/icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./images/icons/favicon-16x16.png">
    <link rel="manifest" href="./images/icons/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="./images/icons/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

  </head>

  <!-- Body -->
  <body>
    <div id="app">
      <template>



        <!-- Loading spinner-->
        <div id="spinnerBack" class="spinnerBack loading" style="display:none" ref="spinnerBack"></div>
        <div id="spinner" class="spinner loading" style="text-align: center; display:none">
          <div style="display: inline-block; opacity: 1;">
            <b-spinner variant="primary" style="width: 3rem; height: 3rem;"></b-spinner>
          </div>
          <div>
            <span class="text-primary"><strong>Loading...</strong></span>
          </div>
        </div>



        <!-- Navbar  -->
        <header>
          <b-navbar toggleable="sm" class="header" style="margin: 1px; padding-right: 3%; padding-left: 3%;">
            <b-navbar-brand style="color: #2196F3; margin: 0px;" href="."><h5>CREATOR <b-badge pill variant="secondary"> 1.3 </b-badge><font style="padding-left: 4%;">{{architecture_name}}</font><br><b><font style="color: #383d41; font-size: 11px;">didaCtic and geneRic assEmbly progrAmming simulaTOR</font></b></h5></b-navbar-brand>

            <b-navbar-toggle target="nav_collapse"></b-navbar-toggle>

            <b-collapse is-nav id="nav_collapse">
              <b-navbar-nav class="ml-auto">
                <b-nav-item href='https://www.arcos.inf.uc3m.es/' target="_blank"><img alt="ARCOS logo" src="./images/arcos.svg" style="height:30pt"></b-nav-item>
                <b-nav-item href='https://www.inf.uc3m.es/' target="_blank"><img alt="Computer Science and Engineering Departament logo" src="./images/dptoinf.png" style="height:30pt"></b-nav-item>
              </b-navbar-nav>
            </b-collapse>
          </b-navbar>

          <!-- Information modals -->

          <!-- Notification modal -->
          <b-modal id="notifications" title="Notifications" hide-footer scrollable>
            <h6 v-if="notifications.length == 0">There's no notification at the moment</h6>
            <b-alert show :variant="item.color" v-for="item in notifications">
              <h6><span class="fas fa-info-circle" v-if="item.color!='danger'"></span><span class="fas fa-exclamation-triangle" v-if="item.color=='danger'"></span> {{item.mess}}</h6>
              <h6>{{item.time}}   -   {{item.date}}</h6>
            </b-alert>
          </b-modal>
          
          <!-- About modal -->
          <b-modal id="about" hide-footer scrollable>
            <b-card-group>
              <b-card img-src="./images/author_fgarcia.png" img-alt="author_fgarcia" img-top>
                <b-card-text>
                  <div style="height: 50px;">
                    <h6>Félix García Carballeira</h6>
                  </div>
                  <hr>
                  <a><span class="fab fa-linkedin"></span> linkedin</a>
                  <hr>
                  <a href='https://www.researchgate.net/profile/Felix_Garcia-Carballeira' target="_blank"><span class="fab fa-researchgate"></span> r-gate</a>
                  <hr>
                  <a><span class="fab fa-github"></span> github</a>
                </b-card-text>
              </b-card>

              <b-card img-src="./images/author_acaldero.png" img-alt="author_acaldero" img-top>
                <b-card-text>
                  <div style="height: 50px;">
                    <h6>Alejandro Calderón Mateos</h6>
                  </div>
                  <hr>
                  <a href='https://www.linkedin.com/in/alejandro-calderon-mateos/' target="_blank"><span class="fab fa-linkedin"></span> linkedin</a>
                  <hr>
                  <a href='https://www.researchgate.net/profile/Alejandro_Calderon2' target="_blank"><span class="fab fa-researchgate"></span> r-gate</a>
                  <hr>
                  <a href='https://github.com/acaldero/wepsim' target="_blank"><span class="fab fa-github"></span> github</a>
                </b-card-text>
              </b-card>

              <b-card img-src="./images/author_dcamarmas.png" img-alt="author_dcamarmas" img-top>
                <b-card-text>
                  <div style="height: 50px;">
                    <h6>Diego Camarmas Alonso</h6>
                  </div>
                  <hr>
                  <a><span class="fab fa-linkedin"></span> linkedin</a>
                  <hr>
                  <a><span class="fab fa-researchgate"></span> r-gate</a>
                  <hr>
                  <a href='https://github.com/dcamarmas' target="_blank"><span class="fab fa-github"></span> github</a>
                </b-card-text>
              </b-card>
            </b-card-group>
          </b-modal>

        </header>




        <!-- Architecture editor view -->
        <div class="contenedor row menu_cards" id="architecture_menu">

      		<!-- Navbar -->
          <div class="contenedor menu row">
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons" id="load_arch_btn_arch">
                    <!--<b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm load_Arch_btn btn_arch" v-b-modal.load_arch>Load Architecture</b-button>-->
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm arch_btn h-100" id="arch_btn_arch" style="display:none;"><span class="fas fa-sitemap" ></span> Architecture</b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm assembly_btn btn_arch h-100" id="assembly_btn_arch" style="display:none;"><span class="fas fa-hashtag"></span>Assembly</b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm simulator_btn btn_arch h-100" id="sim_btn_arch" style="display:none;"><span class="fas fa-cogs"></span> Simulator</b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12 nopadding">
							<div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-4 col-sm-4 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" id="save_btn_arch" v-b-modal.save_architecture style="display:none;"><span class="fas fa-download"></span> Save</b-button>
                  </div>
                  <div class="col-lg-8 col-sm-4 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"  id="advanced_mode" style="display:none;" @click="change_mode" v-if="advanced_mode == true">
                      Advanced Mode: deactivated
                    </b-button>
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100"  id="advanced_mode" style="display:none;" @click="change_mode" v-if="advanced_mode == false">
                      Advanced Mode: activate
                    </b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-5 col-sm-12 nopadding">
            	<div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                	<div class="col-lg-4 col-sm-4 buttons">
                    <!--<b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm" id="conf_btn_arch h-100"><span class="fa fa-gear"></span> Configuration</b-button>-->
                  </div>
              		<div class="col-lg-4 col-sm-4 buttons">
                		<!--<b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" id="help_arch" style="background-color:#D4DB17;"><span class="fa fa-question-circle"></span> Help</b-button>-->
              		</div>
                  <div class="col-lg-4 col-sm-4 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" id="info_arch" style="background-color:#D4DB17;"><span class="fas fa-info-circle"></span> Info</b-button>
                  </div>
            		</div>
              </div>
            </div>

            <!-- Save architecture form -->
            <b-modal id ="save_architecture" title = "Save Architecture" ok-title="Save to File" @ok="arch_save">
              <h6>Enter the name of the architecture to save:</h6>
              <br>
              <b-form-input v-on:input="debounce('name_arch_save', $event)" :value="name_arch_save" type="text" placeholder="Enter the name" class="form-control form-control-sm" style="background-color: white; color: black," :state="valid(name_arch_save)"></b-form-input>
            </b-modal>

            <!-- Information popover -->
            <b-popover target="info_arch" triggers="click blur">
              <template slot="title">
                <b-button @click="closePopover" class="close" aria-label="Close">
                  <span class="d-inline-block" aria-hidden="true">&times;</span>
                </b-button>
                <br>
              </template>

              <div class="col-lg-12 col-sm-12">
                <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" href='https://creatorsim.github.io/' target="_blank"><span class="fas fa-question-circle" ></span> Help</b-button>
                <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground h-100" v-b-modal.notifications><span class="fas fa-bell"></span> Show Notifications</b-button>
                <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground h-100"  v-b-modal.about><span class="fas fa-address-card"></span> About us</b-button>
              </div>
            </b-popover>
          </div>

        	<div class="contenedor menu row">

            <!-- Architecture menu -->
            <div class="col-lg-12 col-sm-12" id="load_menu_arch">
              <div class="col-lg-12 col-sm-12 row nopadding nomargin">
                <div class="col-lg-1 col-sm-1">
                  
                </div>
                <div class="col-lg-10 col-sm-10">
                  <b-list-group>
                    <b-list-group-item>
                      <b-card no-body class="overflow-hidden arch_card" v-for="(item, index) in arch_available" @mouseover="change_background(item.name, 1)" @mouseout="change_background(item.name, 0)" :border-variant=back_card[index].background style="cursor: pointer; margin-bottom: 3px;">
                        <b-row no-gutters>
                          <b-col md="3" @click="load_arch_select(item.name)">
                            <b-card-img :src=item.img :alt=item.alt class="rounded-0"></b-card-img>
                          </b-col>

                          <b-col md="7" @click="load_arch_select(item.name)">
                            <b-card-body :title=item.name title-tag="h4">
                              <b-card-text style="text-align: justify; font-size: 11pt;">
                                {{item.description}}
                              </b-card-text>
                            </b-card-body>
                          </b-col>

                          <b-col md="2" >
                            <b-button class="btn btn-outline-danger btn-sm btn-block buttonBackground arch_delete" @click.stop="modal_remove_cache_arch(index, item.name, $event.target)" v-if="default_arch(item.name) == true" :id="'delete_'+item.name" style="margin-top: 50%;"><span class="far fa-trash-alt"></span> Delete</b-button>
                          </b-col>
                        </b-row>
                      </b-card>

                      <!-- Delete architecture modal -->
                      <b-modal id ="modalDeletArch" :title="modalDeletArch.title" ok-variant="danger" ok-title="Delete" @ok="remove_cache_arch(modalDeletArch.index)">
                        <h6>Are you sure you want to delete the architecture?</h6>
                      </b-modal >






                      <!-- Browser not supported modal -->
                      <b-modal id ="modalNavigator" title="Browser not supported" ref="navigator" hide-footer>
                        <h6>You are using an unsupported browser, please use one of the following:</h6>
                        <br>
                        <b-list-group>
		                      <b-list-group-item class="d-flex justify-content-between align-items-center">
		                        Google Chrome 70+
		                        <b-badge pill style="background-color: transparent;">
		                        <b-img src="./images/chrome.png" class="shadow" rounded="circle" fluid alt="Responsive image" style="height: 50px;width: auto;"></b-img>
		                        </b-badge>
		                      </b-list-group-item>
		                      <b-list-group-item class="d-flex justify-content-between align-items-center">
		                        Mozilla Firefox 60+
		                        <b-badge pill style="background-color: transparent;">
		                         <b-img src="./images/firefox.png" class="shadow" rounded="circle" fluid alt="Responsive image" style="height: 50px;width: auto;"></b-img>
		                        </b-badge>
		                      </b-list-group-item>
		                      <b-list-group-item class="d-flex justify-content-between align-items-center">
		                        Apple Safari 12+
		                        <b-badge pill style="background-color: transparent;">
		                         <b-img src="./images/safari.png" class="shadow" rounded="circle" fluid alt="Responsive image" style="height: 50px;width: auto;"></b-img>
		                        </b-badge>
		                      </b-list-group-item>
		                    </b-list-group>
                      </b-modal >







                      <b-card no-body class="overflow-hidden arch_card" style="cursor: pointer; margin-bottom: 3px;">
                        <b-row no-gutters @click="new_arch">
                          <b-col md="3" style="text-align: center;">
                            <b-card-img src="./images/new_icon.png" alt="new icon" class="rounded-0" style="width: 50%; height: auto;"></b-card-img>
                          </b-col>

                          <b-col md="9">
                            <b-card-body title="New Architecture" title-tag="h4" >
                              <b-card-text style="text-align: justify; font-size: 11pt;">
                                Allows you to define an architecture from scratch.
                              </b-card-text>
                            </b-card-body>
                          </b-col>
                        </b-row>
                      </b-card>

                      <b-card no-body class="overflow-hidden arch_card" style="cursor: pointer; margin-bottom: 3px;" v-b-modal.load_arch>
                        <b-row no-gutters>
                           <b-col md="3" style="text-align: center;">
                            <b-card-img src="./images/load_icon.png" alt="load icon" class="rounded-0" style="width: 50%; height: auto;"></b-card-img>
                          </b-col>

                          <b-col md="9">
                            <b-card-body title="Load Architecture" title-tag="h4">
                              <b-card-text style="text-align: justify; font-size: 11pt;">
                                Allows to load the definition of an already created architecture.
                              </b-card-text>
                            </b-card-body>
                          </b-col>
                        </b-row>

                        <!-- Load new architecture modal -->
                        <b-modal id="load_arch" title="Load Architecture" v-model="showLoadArch" @ok="read_arch">
                          <b-form>
                            <b-form-input v-on:input="debounce('name_arch', $event)" :value="name_arch" placeholder="Enter the name of the architecture" :state="valid(name_arch)"></b-form-input>
                            <br>
                            <b-form-textarea v-on:input="debounce('description_arch', $event)" :value="description_arch" placeholder="Enter a description of the architecture" rows="3"></b-form-textarea>
                            <br>
                            <b-form-file v-model="load_arch" placeholder="Choose a file..." id="arch_file" accept=".json" :state="valid(load_arch)"></b-form-file>
                          </b-form>
                        </b-modal>

                      </b-card>
                    </b-list-group-item>
                  </b-list-group>
                </div>
                <div class="col-lg-1 col-sm-1">
                  
                </div>
              </div>
              <br>

              <!-- Backup modal -->
              <b-modal id="copy" hide-footer hide-header ref="copyRef" size="sm" centered>
                <h6>A backup is available</h6>
                <h6>Date: {{date_copy}}</h6>
                <div class="col-lg-12 col-sm-12 row nomargin">
                  <div class="col-lg-6 col-sm-6" style="padding-bottom: 1px;">
                    <b-button class="btn btn-outline-danger btn-block btn-sm buttonBackground" @click="remove_copy">Discard</b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6" style="padding-bottom: 1px;">
                    <b-button class="btn btn-outline-primary btn-block btn-sm buttonBackground" @click="load_copy">Load</b-button>
                  </div>
                </div>
              </b-modal>
            </div>

            <!-- Architecture components -->
<div v-if="creator_mode == 'architecture'">
            <div class="col-lg-12 col-sm-12" id="view_components" style="display:none;">
              <b-tabs>

                <!-- Memory layout -->
                <b-tab title="Memory Layout" active>
                  

                  <!-- Memory layout form -->
                  <div class="col-lg-12 col-sm-12 row nomargin" style="margin-top: 3%; margin-bottom: 3%;">
                    <div class="col-lg-12 col-sm-12">
                      <h6>Memory layout:</h6>
                      <div class="col-lg-12 col-sm-12 row">
                        <div class="compMenu">
                          <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100 w-100" v-b-modal.change><span class="fas fa-exchange-alt"></span> Change memory layout</b-button>
                        </div>
                        <div class="compMenu">
                          <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100 w-100" id="resetMemory" @click="resetMemModal(architecture_name, $event)"> <span class="fas fa-power-off"></span> Reset memory layout</b-button>
                        </div>
                      </div>

                      <br>

                      <!-- Reset memory layout -->
                      <b-modal id ="modalResetMem" :title="modalResetMem.title" ok-variant="danger" ok-title="Reset" @ok="resetMemory(modalResetMem.element)">
                        <h6>Are you sure you want to reset the mememory layout set?</h6>
                      </b-modal >

                      <!-- Change memory layout -->
                      <b-modal id ="change" title="Change memory layout" ok-title="Change" @ok="changeMemoryLayout">
                        <h6>.text Start:</h6>
                        <b-form-input type="text" v-on:input="debounce('memory_layout[0]', $event)" :value="memory_layout[0]" required size="sm" style="margin-bottom: 2%;"></b-form-input>
                        <h6>.text End:</h6>
                        <b-form-input type="text" v-on:input="debounce('memory_layout[1]', $event)" :value="memory_layout[1]" required size="sm" style="margin-bottom: 2%;"></b-form-input>

                        <h6>.data Start:</h6>
                        <b-form-input type="text" v-on:input="debounce('memory_layout[2]', $event)" :value="memory_layout[2]" required size="sm" style="margin-bottom: 2%;"></b-form-input>
                        <h6>.data End:</h6>
                        <b-form-input type="text" v-on:input="debounce('memory_layout[3]', $event)" :value="memory_layout[3]" required size="sm" style="margin-bottom: 2%;"></b-form-input>

                        <h6>.stack End:</h6>
                        <b-form-input type="text" v-on:input="debounce('memory_layout[4]', $event)" :value="memory_layout[4]" required size="sm" style="margin-bottom: 2%;"></b-form-input>
                        <h6>.stack Start:</h6>
                        <b-form-input type="text" v-on:input="debounce('memory_layout[5]', $event)" :value="memory_layout[5]" required size="sm" style="margin-bottom: 2%;"></b-form-input>
                      </b-modal >
                    </div>

                    <div class="col-lg-3 col-sm-12 ">

                    </div>

                    <!-- Memory layout sketch -->
                    <div class="col-lg-6 col-sm-12 ">
                      <b-list-group class="memoryLayout">
                        <b-list-group horizontal>
                          <b-list-group-item variant="info" class="memoryLayout"><br>.text<br></b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder" style="text-align: left;">
                            <h6 v-if="architecture.memory_layout.length > 0">0x{{((architecture.memory_layout[0].value).toString(16)).padStart(8, "0").toUpperCase()}}</h6>
                            <br>
                            <h6 v-if="architecture.memory_layout.length > 0">0x{{((architecture.memory_layout[1].value).toString(16)).padStart(8, "0").toUpperCase()}}</h6>
                          </b-list-group-item>
                        </b-list-group>

                        <b-list-group horizontal>
                          <b-list-group-item variant="warning" class="memoryLayout"><br>.data<br></b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder" style="text-align: left;">
                            <h6 v-if="architecture.memory_layout.length > 0">0x{{((architecture.memory_layout[2].value).toString(16)).padStart(8, "0").toUpperCase()}}</h6>
                            <br>
                            <h6 v-if="architecture.memory_layout.length > 0">0x{{((architecture.memory_layout[3].value).toString(16)).padStart(8, "0").toUpperCase()}}</h6>
                          </b-list-group-item>
                        </b-list-group>

                        <b-list-group horizontal>
                          <b-list-group-item variant="secondary" class="memoryLayout"><br>...<br><br></b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder">
                            
                          </b-list-group-item>
                        </b-list-group>

                        <b-list-group horizontal>
                          <b-list-group-item variant="success" class="memoryLayout"><br>stack<br></b-list-group-item>
                          <b-list-group-item class="memoryLayout noBorder" style="text-align: left;">
                            <h6 v-if="architecture.memory_layout.length > 0">0x{{((architecture.memory_layout[4].value).toString(16)).padStart(8, "0").toUpperCase()}}</h6>
                            <br>
                            <h6 v-if="architecture.memory_layout.length > 0">0x{{((architecture.memory_layout[5].value).toString(16)).padStart(8, "0").toUpperCase()}}</h6>
                          </b-list-group-item>
                        </b-list-group>
                      </b-list-group>
                    </div>

                    <div class="col-lg-3 col-sm-12 ">

                    </div>

                  </div>
                </b-tab>

                <!-- Components -->
                <b-tab title="Components" :disabled="advanced_mode">
                  <br>
                  <h6>Components of the architecture:</h6>

                  <div class="col-lg-12 col-sm-12 row">
                    <div class="compMenu">
                      <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" id="newComponentBtn" v-b-modal.new_component> <span class="fas fa-plus-circle"></span> New component</b-button>
                    </div>

                    <div class="compMenu">
                      <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" id="resetArchitecture" @click="resetArchModal(architecture_name, $event)"> <span class="fas fa-power-off"></span> Reset architecture</b-button>
                    </div>

                    <div class="compMenu">
                      <b-form-input v-on:input="debounce('number_bits', $event)" :value="number_bits" type="number" min="0" placeholder="Enter bits of architecture" size="sm"></b-form-input>
                    </div>
                  </div>

                  <!-- New component form-->
                  <b-modal id ="new_component" title = "New Component" ok-title="Save" @ok="newComponentVerify" v-model="showNewComponent" @hidden="emptyFormArch">
                    <b-form>
                      <b-form-group label="Name:">
                        <b-form-input type="text" v-on:input="debounce('formArchitecture.name', $event)" :value="formArchitecture.name" required placeholder="Enter name" :state="valid(formArchitecture.name)" size="sm">
                        </b-form-input>
                      </b-form-group>
                      <b-form-group label="Type:">
                        <b-form-select :options="componentsTypes" required v-model="formArchitecture.type" :state="valid(formArchitecture.type)" size="sm"></b-form-select>
                      </b-form-group>
                      <b-form-group v-if="formArchitecture.type == 'floating point'">
                        <b-form-checkbox-group v-model="formArchitecture.precision">
                          <b-form-checkbox value="precision">Double Precision</b-form-checkbox>
                        </b-form-checkbox-group>
                      </b-form-group>
                    </b-form>
                  </b-modal >

                  <!-- Reset components -->
                  <b-modal id ="modalResetArch" :title="modalResetArch.title" ok-variant="danger" ok-title="Reset" @ok="resetArchitecture(modalResetArch.element)">
                    <h6>Are you sure you want to reset the architecture?</h6>
                  </b-modal >
                  
                  <!-- Components table -->
                  <div class="col-lg-12 col-sm-12 nopadding">
                    <br>
                    <div class="col-lg-12 col-sm-12" v-for="item in architecture_hash" style="padding-left: 0px;">

                      <!-- For each component -->
                      <b-card no-body class="mb-1">
                        <b-card-header header-tag="header" class="p-1" role="tab">
                          <b-btn block href="#" v-b-toggle="item.index.toString()" class="btn btn-outline-secondary btn-sm buttonBackground">{{item.name}}</b-btn>
                        </b-card-header>
                        <b-collapse :id="item.index.toString()" visible accordion="my-accordion" role="tabpanel" class="architecture-scroll-y">
                          <b-card-body>

                            <!-- Elements table -->
                             <b-table :items="architecture.components[item.index].elements" :fields="archFields" v-if="architecture.components[item.index].elements.length > 0">

                              <!-- For each element -->
                              <template slot="ID" slot-scope="row">
                                {{element_id(architecture.components[item.index].elements[row.index].name, architecture.components[item.index].type, architecture.components[item.index].double_precision)}}
                              </template>

                              <template slot="properties" slot-scope="row">
                                <b-form-checkbox disabled checked="true" v-if="architecture.components[item.index].elements[row.index].properties[0] == 'read' || architecture.components[item.index].elements[row.index].properties[1] == 'read'"> Read </b-form-checkbox>

                                <b-form-checkbox disabled checked="false" v-if="architecture.components[item.index].elements[row.index].properties[0] != 'read' && architecture.components[item.index].elements[row.index].properties[1] != 'read'"> Read </b-form-checkbox>

                                <b-form-checkbox disabled checked="true" v-if="architecture.components[item.index].elements[row.index].properties[0] == 'write' || architecture.components[item.index].elements[row.index].properties[1] == 'write'"> Write </b-form-checkbox>

                                <b-form-checkbox disabled checked="false" v-if="architecture.components[item.index].elements[row.index].properties[0] != 'write' && architecture.components[item.index].elements[row.index].properties[1] != 'write'"> Write </b-form-checkbox>
                              </template>

                              <template slot="actions" slot-scope="row">
                                <b-button @click.stop="editElemModal(row.item.name, item.index, $event.target)" class="btn btn-outline-secondary btn-sm buttonBackground h-100"><span class="far fa-edit"></span> Edit</b-button>
                                <b-button @click.stop="delElemModal(row.item.name, $event.target)" class="btn btn-outline-danger btn-sm buttonBackground h-100"><span class="far fa-trash-alt"></span> Delete</b-button> 
                              </template>
                             </b-table>

                            <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" :id="'new '+item.name" @click="newElemModal(item.name, item.index, $event.target)"> <span class="fas fa-plus-circle"></span> New Element</b-button>

                            <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" :id="'edit '+item.name" @click="editCompModal(item.name, item.index, $event.target)"><span class="far fa-edit"></span> Edit Component</b-button>

                            <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" :id="'delete '+item.name" @click="delCompModal(item.name, $event.target)"><span class="far fa-trash-alt"></span> Delete Component</b-button>
                          </b-card-body>
                        </b-collapse>
                      </b-card>
                    </div>

                    <!-- Component edit form-->
                    <b-modal id ="modalEditComponent" :title = "modalEditComponent.title" ok-title="Save" @ok="editCompVerify($event, modalEditComponent.element)" v-model="showEditComponent" @hidden="emptyFormArch">
                      <b-form>
                        <b-form-group label="Name:">
                          <b-form-input type="text" :state="valid(formArchitecture.name)" v-on:input="debounce('formArchitecture.name', $event)" :value="formArchitecture.name" required placeholder="Enter name" size="sm">
                          </b-form-input>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Delete component -->
                    <b-modal id ="modalDeletComp" :title="modalDeletComp.title" ok-variant="danger" ok-title="Delete" @ok="delComponent(modalDeletComp.element)">
                      <h6>Are you sure you want to delete the component?</h6>
                    </b-modal >

                    <!-- New element form -->
                    <b-modal id ="modalNewElement" :title = "modalNewElement.title" ok-title="Save" @ok="newElementVerify($event, modalNewElement.element)" v-model="showNewElement" @hidden="emptyFormArch">
                      <b-form >
                        <b-form-group label="Name:">
                          <b-form-input type="text" :state="valid(formArchitecture.name)" v-on:input="debounce('formArchitecture.name', $event)" :value="formArchitecture.name" required placeholder="Enter name" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="ID:">
                          <b-form-input type="text" v-on:input="debounce('formArchitecture.id', $event)" :value="formArchitecture.id" required size="sm" disabled>
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Default value:" v-if="modalNewElement.double_precision == false">
                          <b-form-input type="text" :state="valid(formArchitecture.defValue)" v-on:input="debounce('formArchitecture.defValue', $event)" :value="formArchitecture.defValue" required placeholder="Enter default value" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group v-if="modalNewElement.type != 'control'">
                          <b-form-checkbox-group v-model="formArchitecture.properties">
                            <b-form-checkbox value="read">Read</b-form-checkbox>
                            <b-form-checkbox value="write">Write</b-form-checkbox>
                          </b-form-checkbox-group>
                        </b-form-group>
                        <b-form-group label="Simple Floating Points asociate:" v-if="modalNewElement.double_precision == true">
                          <div class="col-lg-12 col-sm-12 row nomargin">
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required v-model="formArchitecture.simple1" :state="valid(formArchitecture.simple1)" size="sm" :options="simple_reg"></b-form-select>
                            </div>
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required v-model="formArchitecture.simple2" :state="valid(formArchitecture.simple2)" size="sm" :options="simple_reg"></b-form-select>
                            </div>
                          </div>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Edit element form -->
                    <b-modal id ="modalEditElement" :title="modalEditElement.title" ok-title="Save" @ok="editElementVerify($event, modalEditElement.element)" v-model="showEditElement" @hidden="emptyFormArch">
                      <b-form>
                        <b-form-group label="Name:">
                          <b-form-input type="text" v-on:input="debounce('formArchitecture.name', $event)" :value="formArchitecture.name" required placeholder="Enter name" :state="valid(formArchitecture.name)" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="ID:">
                          <b-form-input type="text" v-on:input="debounce('formArchitecture.id', $event)" :value="formArchitecture.id" required size="sm" disabled>
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Default value:" v-if="modalEditElement.double_precision == false">
                          <b-form-input type="text" v-on:input="debounce('formArchitecture.defValue', $event)" :value="formArchitecture.defValue" required placeholder="Enter default value" :state="valid(formArchitecture.defValue)" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group>
                          <b-form-checkbox-group v-model="formArchitecture.properties" v-if="modalEditElement.type != 'control'">
                            <b-form-checkbox value="read">Read</b-form-checkbox>
                            <b-form-checkbox value="write">Write</b-form-checkbox>
                          </b-form-checkbox-group>
                        </b-form-group>
                        <b-form-group label="Simple Floating Points asociate:" v-if="modalEditElement.double_precision == true">
                          <div class="col-lg-12 col-sm-12 row nomargin">
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required v-model="formArchitecture.simple1" :state="valid(formArchitecture.simple1)" size="sm" :options="simple_reg"></b-form-select>
                            </div>
                            <div class="col-lg-6 col-sm-6">
                              <b-form-select required v-model="formArchitecture.simple2" :state="valid(formArchitecture.simple2)" size="sm" :options="simple_reg"></b-form-select>
                            </div>
                          </div>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Delete element -->
                    <b-modal id ="modalDeletElement" :title="modalDeletElement.title" ok-variant="danger" ok-title="Delete" @ok="delElement(modalDeletElement.element)">
                      <h6>Are you sure you want to delete the item?</h6>
                    </b-modal >
                  </div>
                </b-tab>

                <!-- Instruction definition -->
                <b-tab title="Instructions Definition" :disabled="advanced_mode">
                  <br>
                  <h6>Instruction set:</h6>

                  <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" id="newInstructionBtn" v-b-modal.new_instruction> <span class="fas fa-plus-circle"></span> New instruction</b-button>

                  <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" id="resetInstructions" @click="resetInstModal(architecture_name, $event)"> <span class="fas fa-power-off"></span> Reset Instructions</b-button>

                  <!-- New instruction form -->
                  <b-modal size="lg" id ="new_instruction" title = "New Instruction" ok-title="Save" @ok="newInstVerify" v-model="showNewInstruction" @hidden="emptyFormInst">
                    <b-form>

                      <!-- Page 1 -->
                      <div id="newInstForm1" v-if="instructionFormPage == 1">
                        <b-form-group label="Name:">
                          <b-form-input type="text" v-on:input="debounce('formInstruction.name', $event)" :value="formInstruction.name" required placeholder="Enter name" :state="valid(formInstruction.name)" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Type:">
                          <b-form-select v-model="formInstruction.type" :options="instructionsTypes" :state="valid(formInstruction.type)" size="sm"></b-form-select>
                        </b-form-group>
                        <b-form-group label="Number of Words:">
                          <b-form-input type="number" min="1" v-on:input="debounce('formInstruction.nwords', $event)" :value="formInstruction.nwords" required placeholder="Enter nwords" :state="valid(formInstruction.nwords)" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="Number of fields: (Including co and cop)">
                          <b-form-input type="text" min="1" :max="32 * formInstruction.nwords" v-on:input="debounce('formInstruction.numfields', $event)" :value="formInstruction.numfields" required placeholder="Enter number of fields" :state="valid(formInstruction.numfields)" size="sm" @change="changeNumfield(0)">
                          </b-form-input>
                        </b-form-group>
                        <div style="display: none">
                          <b-form-input type="text" v-model="formInstruction.numfieldsAux"></b-form-input>
                        </div>
                      </div>

                      <!-- Page 2 -->
                      <div id="newInstForm2" v-if="instructionFormPage == 2">
                        <div class="col-lg-12 col-sm-12 row">
                          <div class="col-lg-2 col-2 fields">
                            
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Name:</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Type</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Start Bit</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>End Bit</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Value</h6>
                          </div>
                        </div>

                        <div v-if="isNaN(parseInt(formInstruction.numfieldsAux)) == false">
                          <div v-for="i in parseInt(formInstruction.numfieldsAux)">
                            <div class="col-lg-12 col-sm-12 row">
                              <div class="col-lg-2 col-2 fields">
                                <h6>Field {{i-1}}</h6>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="text" v-on:input="debounce('formInstruction.nameField['+i+'-1]', $event)" :value="formInstruction.nameField[i-1]" required :state="valid(formInstruction.nameField[i-1])" size="sm" v-if="(i-1) != 0">
                                  </b-form-input>
                                  <b-form-input type="text" v-model="formInstruction.nameField[i-1]=formInstruction.name" required size="sm" v-if="(i-1) == 0"  disabled>
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-select v-model="formInstruction.typeField[i-1]" required :state="valid(formInstruction.typeField[i-1])" size="sm" v-if="(i-1) != 0">
                                    <option value="INT-Reg">INT-Reg</option>
                                    <option value="SFP-Reg">SFP-Reg</option>
                                    <option value="DFP-Reg">DFP-Reg</option>
                                    <option value="Ctrl-Reg">Ctrl-Reg</option>
                                    <option value="inm">inm</option>
                                    <option value="address">address</option>
                                    <option value="offset_bytes">Offset Bytes</option>
                                    <option value="offset_words">Offset Words</option>
                                    <option value="cop" :disabled="formInstruction.assignedCop!=false">cop</option>
                                  </b-form-select>
                                  <b-form-input type="text" v-model="formInstruction.typeField[i-1]='co'" required size="sm" v-if="(i-1) == 0" disabled>
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formInstruction.startBitField['+i+'-1]', $event)" :value="formInstruction.startBitField[i-1]" required :state="valid(formInstruction.startBitField[i-1])" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formInstruction.stopBitField['+i+'-1]', $event)" :value="formInstruction.stopBitField[i-1]" required :state="valid(formInstruction.stopBitField[i-1])" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'co'">
                                <b-form-group>
                                  <b-form-input type="text" v-on:input="debounce('formInstruction.co', $event)" :value="formInstruction.co" required :state="valid(formInstruction.co)" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'cop'">
                                <b-form-group>
                                  <b-form-input type="text" v-on:input="debounce('formInstruction.valueField['+i+'-1]', $event)" :value="formInstruction.valueField[i-1]" required :state="valid(formInstruction.valueField[i-1])" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Page 3 -->
                      <div id="newInstForm3" v-if="instructionFormPage == 3">
                        <b-form-group label="Assembly Syntax Definition:">
                          <b-form-input type="text" v-on:input="debounce('formInstruction.signature_definition', $event)" :value="formInstruction.signature_definition" placeholder="Example: F0 F2 F1 (F3)" required :state="valid(formInstruction.signature_definition)" v-on:change="generateSignatureInst()" size="sm"></b-form-input>
                        </b-form-group>
                        <b-form-group label="Detailed Syntax:">
                          <b-form-input type="text" v-on:input="debounce('formInstruction.signature', $event)" :value="formInstruction.signature" disabled required size="sm"></b-form-input>
                        </b-form-group>
                        <b-form-group label="Assembly Syntax:">
                          <b-form-input type="text" v-on:input="debounce('formInstruction.signatureRaw', $event)" :value="formInstruction.signatureRaw" disabled size="sm"></b-form-input>
                        </b-form-group>
                      </div>

                      <!-- Page 4 -->
                      <div id="newInstForm4" v-if="instructionFormPage == 4">
                        <b-form-group label="Assembly Definition:">
                          <b-form-textarea v-on:input="debounce('formInstruction.definition', $event)" :value="formInstruction.definition" placeholder="Example: reg1=reg2+reg3" :state="valid(formInstruction.definition)" :rows="4">
                          </b-form-textarea>
                        </b-form-group>
                      </div>
                    </b-form>
                    <hr>
                    <b-pagination-nav size="sm" align="center" base-url="#" :number-of-pages="4" v-model="instructionFormPage" :link-gen="linkGen" :page-gen="pageGen"></b-pagination-nav>
                  </b-modal >

                  <!-- Reset instruction set -->
                  <b-modal id ="modalResetInst" :title="modalResetInst.title" ok-variant="danger" ok-title="Reset" @ok="resetInstructions(modalResetInst.element)">
                    <h6>Are you sure you want to reset the instructions?</h6>
                  </b-modal >

                  <!-- Instruction set table -->
                  <div class="col-lg-12 col-sm-12 architecture-scroll-y" style="margin-top: 3vh">
                    <b-table small :items="architecture.instructions" :fields="instFields" class="instruction_table">

                      <!-- Change the title of each column -->
                      <template slot="HEAD_cop" scope="row">
                        Extended CO
                      </template>

                      <template slot="HEAD_signature" scope="row">
                        Detailed Syntax
                      </template>

                      <template slot="HEAD_signatureRaw" scope="row">
                        Instruction syntax
                      </template>

                      <!-- For each instruction -->
                      <template slot="fields" slot-scope="row">
                        <b-button @click.stop="viewFielsInst(row.item.name, row.item.co, row.item.cop, $event.target)" class="btn btn-outline-secondary btn-sm buttonBackground h-100">View Fields</b-button>
                      </template>

                      <template slot="definition" slot-scope="row">
                        <b-form-textarea v-model="row.item.definition" disabled no-resize rows="4"></b-form-textarea>
                      </template>

                      <template slot="actions" slot-scope="row">
                        <b-button @click.stop="editInstModal(row.item.name, row.item.co, row.item.cop, $event.target)" class="btn btn-outline-secondary btn-sm buttonBackground h-100"><span class="far fa-edit"></span> Edit</b-button>
                        <b-button @click.stop="delInstModal(row.item.name, row.index, $event.target)" class="btn btn-outline-danger btn-sm buttonBackground h-100"><span class="far fa-trash-alt"></span> Delete</b-button> 
                      </template>
                    </b-table>

                    <!-- Instructions fields -->
                    <b-modal size="lg" id ="modalViewFields" :title="modalViewFields.title" hide-footer @hidden="emptyFormInst">
                      <b-form>
                        <div id="viewFields" >
                          <div class="col-lg-12 col-sm-12 row">
                            <div class="col-lg-2 col-2 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Name:</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Type</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Start Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>End Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Value</h6>
                            </div>
                          </div>

                          <div v-if="isNaN(parseInt(formInstruction.numfieldsAux)) == false">
                            <div v-for="i in parseInt(formInstruction.numfieldsAux)">
                              <div class="col-lg-12 col-sm-12 row">
                                <div class="col-lg-2 col-2 fields">
                                  <h6>Field {{i-1}}</h6>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" v-model="formInstruction.nameField[i-1]" required size="sm" v-if="(i-1) != 0" disabled>
                                    </b-form-input>
                                    <b-form-input type="text" v-model="formInstruction.nameField[i-1]=formInstruction.name" required size="sm" v-if="(i-1) == 0"  disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" v-model="formInstruction.typeField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-model="formInstruction.startBitField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-model="formInstruction.stopBitField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'co'">
                                  <b-form-group>
                                    <b-form-input type="text" v-model="formInstruction.co" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'cop'">
                                  <b-form-group>
                                    <b-form-input type="text" v-on:input="debounce('formInstruction.valueField['+i+'-1]', $event)" :value="formInstruction.valueField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </b-form>
                    </b-modal>

                    <!-- Edit instruction form -->
                    <b-modal size="lg" id ="modalEditInst" :title="modalEditInst.title" ok-title="Save" @ok="editInstVerify($event, modalEditInst.element, modalEditInst.co, modalEditInst.cop)" v-model="showEditInstruction" @hidden="emptyFormInst">
                      <b-form>

                        <!-- Page 1 -->
                        <div id="editInstForm1" v-if="instructionFormPage == 1">
                          <b-form-group label="Name:">
                            <b-form-input type="text" v-on:input="debounce('formInstruction.name', $event)" :value="formInstruction.name" required placeholder="Enter name" :state="valid(formInstruction.name)" size="sm">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Type:">
                            <b-form-select v-on:input="debounce('formInstruction.type', $event)" :value="formInstruction.type" :options="instructionsTypes" :state="valid(formInstruction.type)" size="sm"></b-form-select>
                          </b-form-group>
                          <b-form-group label="Number of Words:">
                            <b-form-input type="number" min="1" v-on:input="debounce('formInstruction.nwords', $event)" :value="formInstruction.nwords" required placeholder="Enter nwords" :state="valid(formInstruction.nwords)" size="sm">
                            </b-form-input>
                          </b-form-group>
                          <b-form-group label="Number of fields: (Including co and cop)">
                            <b-form-input type="text" min="1" :max="32 * formInstruction.nwords" v-on:input="debounce('formInstruction.numfields', $event)" :value="formInstruction.numfields" required placeholder="Enter number of fields" :state="valid(formInstruction.numfields)" size="sm" @change="changeNumfield(0)">
                            </b-form-input>
                          </b-form-group>
                          <div style="display: none">
                            <b-form-input type="text" v-model="formInstruction.numfieldsAux"></b-form-input>
                          </div>

                        </div>

                        <!-- Page 2 -->
                        <div id="editInstForm2" v-if="instructionFormPage == 2">
                          <div class="col-lg-12 col-sm-12 row">
                            <div class="col-lg-2 col-2 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Name:</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Type</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Start Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>End Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">

                            </div>
                          </div>


                          <div v-if="isNaN(parseInt(formInstruction.numfieldsAux)) == false">
                            <div v-for="i in parseInt(formInstruction.numfieldsAux)">
                              <div class="col-lg-12 col-sm-12 row">
                                <div class="col-lg-2 col-2 fields">
                                  <h6>Field {{i-1}}</h6>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" v-on:input="debounce('formInstruction.nameField['+i+'-1]', $event)" :value="formInstruction.nameField[i-1]" required :state="valid(formInstruction.nameField[i-1])" size="sm" v-if="(i-1) != 0">
                                    </b-form-input>
                                    <b-form-input type="text" v-model="formInstruction.nameField[i-1]=formInstruction.name" required size="sm" v-if="(i-1) == 0"  disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-select v-model="formInstruction.typeField[i-1]" required :state="valid(formInstruction.typeField[i-1])" size="sm" v-if="(i-1) != 0">
                                      <option value="INT-Reg">INT-Reg</option>
                                      <option value="SFP-Reg">SFP-Reg</option>
                                      <option value="DFP-Reg">DFP-Reg</option>
                                      <option value="Ctrl-Reg">Ctrl-Reg</option>
                                      <option value="inm">inm</option>
                                      <option value="address">address</option>
                                      <option value="offset_bytes">Offset Bytes</option>
                                      <option value="offset_words">Offset Words</option>
                                      <option value="cop" :disabled="formInstruction.assignedCop!=false">cop</option>
                                    </b-form-select>
                                    <b-form-input type="text" v-model="formInstruction.typeField[i-1]='co'" required size="sm" v-if="(i-1) == 0" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formInstruction.startBitField['+i+'-1]', $event)" :value="formInstruction.startBitField[i-1]" required :state="valid(formInstruction.startBitField[i-1])" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formInstruction.stopBitField['+i+'-1]', $event)" :value="formInstruction.stopBitField[i-1]" required :state="valid(formInstruction.stopBitField[i-1])" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'co'">
                                  <b-form-group>
                                    <b-form-input type="text" v-on:input="debounce('formInstruction.co', $event)" :value="formInstruction.co" required :state="valid(formInstruction.co)" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields" v-if="formInstruction.typeField[i-1] == 'cop'">
                                  <b-form-group>
                                    <b-form-input type="text" v-on:input="debounce('formInstruction.valueField['+i+'-1]', $event)" :value="formInstruction.valueField[i-1]" required :state="valid(formInstruction.valueField[i-1])" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Page 3 -->
                        <div id="editInstForm3" v-if="instructionFormPage == 3">
                          <b-form-group label="Instruction Syntax Definition:">
                            <b-form-input type="text" v-on:input="debounce('formInstruction.signature_definition', $event)" :value="formInstruction.signature_definition" placeholder="Example: F0 F2 F1 (F3)" required :state="valid(formInstruction.signature_definition)" v-on:change="generateSignatureInst()" size="sm"></b-form-input>
                          </b-form-group>
                          <b-form-group label="Detailed Syntax:">
                            <b-form-input type="text" v-on:input="debounce('formInstruction.signature', $event)" :value="formInstruction.signature" disabled required size="sm"></b-form-input>
                          </b-form-group>
                          <b-form-group label="Instruction Syntax:">
                            <b-form-input type="text" v-on:input="debounce('formInstruction.signatureRaw', $event)" :value="formInstruction.signatureRaw" disabled size="sm"></b-form-input>
                          </b-form-group>
                        </div>

                        <!-- Page 4 -->
                        <div id="editInstForm4" v-if="instructionFormPage == 4">
                          <b-form-group label="Assembly Definition:">
                            <b-form-textarea v-on:input="debounce('formInstruction.definition', $event)" :value="formInstruction.definition" placeholder="Example: reg1=reg2+reg3" :state="valid(formInstruction.definition)" :rows="4">
                            </b-form-textarea>
                          </b-form-group>
                        </div>
                      </b-form>
                      <hr>
                      <b-pagination-nav size="sm" align="center" base-url="#" :number-of-pages="4" v-model="instructionFormPage" :link-gen="linkGen" :page-gen="pageGen"></b-pagination-nav>
                    </b-modal>

                    <!-- Delete instruction -->
                    <b-modal id ="modalDeletInst" :title="modalDeletInst.title" ok-variant="danger" ok-title="Delete" @ok="delInstruction(modalDeletInst.index)">
                      <h6>Are you sure you want to delete the item?</h6>
                    </b-modal >
                  </div> 
                </b-tab>

                <!-- Pseudoinstruction definition -->
                <b-tab title="Pseudoinstructions Definition" :disabled="advanced_mode">
                  <br>
                  <h6>Pseudoinstructions set:</h6>

                  <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" id="newPseudoinstructionsBtn" v-b-modal.new_pseudoinstruction> <span class="fas fa-plus-circle"></span> New pseudoinstructions</b-button>

                  <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" id="resetPseudoinstructions" @click="resetPseudoinstModal(architecture_name, $event)"> <span class="fas fa-power-off"></span> Reset pseudoinstructions</b-button>

                  <!-- New pseudoinstruction form -->
                  <b-modal size="lg" title = "New Pseudoinstruction" ok-title="Save" @ok="newPseudoinstVerify" v-model="showNewPseudoinstruction" id="new_pseudoinstruction" @hidden="emptyFormPseudo">
                    <b-form>

                      <!-- Page 1 -->
                      <div id="newPseudoinstForm1" v-if="instructionFormPage == 1">
                        <b-form-group label="Name:">
                          <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.name', $event)" :value="formPseudoinstruction.name" required placeholder="Enter name" :state="valid(formPseudoinstruction.name)" size="sm">
                          </b-form-input>
                        </b-form-group>

                        <b-form-group label="Number of Words:">
                          <b-form-input type="number" min="1" v-on:input="debounce('formPseudoinstruction.nwords', $event)" :value="formPseudoinstruction.nwords" required placeholder="Enter nwords" :state="valid(formPseudoinstruction.nwords)" size="sm">
                          </b-form-input>
                        </b-form-group>

                        <b-form-group label="Number of fields: ">
                          <b-form-input type="text" min="0" :max="32 * formPseudoinstruction.nwords" v-on:input="debounce('formPseudoinstruction.numfields', $event)" :value="formPseudoinstruction.numfields" required placeholder="Enter number of fields" :state="valid(formPseudoinstruction.numfields)" size="sm" @change="changeNumfield(1)">
                          </b-form-input>
                        </b-form-group>
                        <div style="display: none;">
                          <b-form-input type="text" v-model="formPseudoinstruction.numfieldsAux"></b-form-input>
                        </div>
                      </div>

                      <!-- Page 2 -->
                      <div id="newPseudoinstForm2" v-if="instructionFormPage == 2">
                        <div class="col-lg-12 col-sm-12 row">
                          <div class="col-lg-2 col-2 fields">
                            
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Name:</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Type</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>Start Bit</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">
                            <h6>End Bit</h6>
                          </div>
                          <div class="col-lg-2 col-2 fields">

                          </div>
                        </div>

                        <div v-if="isNaN(parseInt(formPseudoinstruction.numfieldsAux)) == false">
                          <div v-for="i in parseInt(formPseudoinstruction.numfieldsAux)">
                            <div class="col-lg-12 col-sm-12 row">
                              <div class="col-lg-2 col-2 fields">
                                <h6>Field {{i-1}}</h6>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.nameField['+i+'-1]', $event)" :value="formPseudoinstruction.nameField[i-1]" required :state="valid(formPseudoinstruction.nameField[i-1])" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-select v-model="formPseudoinstruction.typeField[i-1]" required :state="valid(formPseudoinstruction.typeField[i-1])" size="sm">
                                    <option value="INT-Reg">INT-Reg</option>
                                    <option value="SFP-Reg">SFP-Reg</option>
                                    <option value="DFP-Reg">DFP-Reg</option>
                                    <option value="Ctrl-Reg">Ctrl-Reg</option>
                                    <option value="inm">inm</option>
                                    <option value="address">address</option>
                                    <option value="offset_bytes">Offset Bytes</option>
                                    <option value="offset_words">Offset Words</option>
                                  </b-form-select>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formPseudoinstruction.startBitField['+i+'-1]', $event)" :value="formPseudoinstruction.startBitField[i-1]" required :state="valid(formPseudoinstruction.startBitField[i-1])" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                              <div class="col-lg-2 col-2 fields">
                                <b-form-group>
                                  <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formPseudoinstruction.stopBitField['+i+'-1]', $event)" :value="formPseudoinstruction.stopBitField[i-1]" required :state="valid(formPseudoinstruction.stopBitField[i-1])" size="sm">
                                  </b-form-input>
                                </b-form-group>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>

                      <!-- Page 3 -->
                      <div id="newPseudoinstForm3" v-if="instructionFormPage == 3">
                        <b-form-group label="Pseudoinstruction Syntax Definition:">
                            <b-form-input type="text"  v-on:input="debounce('formPseudoinstruction.signature_definition', $event)" :value="formPseudoinstruction.signature_definition" placeholder="Example: move $F0 $F1" required :state="valid(formPseudoinstruction.signature_definition)" v-on:change="generateSignaturePseudo()" size="sm"></b-form-input>
                          </b-form-group>
                          <b-form-group label="Detailed Syntax:">
                            <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.signature', $event)" :value="formPseudoinstruction.signature" disabled required size="sm"></b-form-input>
                          </b-form-group>
                          <b-form-group label="Pseudoinstruction Syntax:">
                            <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.signatureRaw', $event)" :value="formPseudoinstruction.signatureRaw" disabled size="sm"></b-form-input>
                          </b-form-group>
                      </div>

                      <!-- Page 4 -->
                      <div id="newPseudoinstForm4" v-if="instructionFormPage == 4">
                        <b-form-group label="Pseudoinstruction Definition:">
                          <b-form-textarea v-on:input="debounce('formPseudoinstruction.definition', $event)" :value="formPseudoinstruction.definition" placeholder="Example: add reg1 reg0 reg2" :state="valid(formPseudoinstruction.definition)" :rows="4">
                          </b-form-textarea>
                        </b-form-group>
                      </div>
                    </b-form>
                    <hr>
                    <b-pagination-nav size="sm" align="center" base-url="#" :number-of-pages="4" v-model="instructionFormPage" :link-gen="linkGen" :page-gen="pageGen"></b-pagination-nav>
                  </b-modal >

                  <!-- Reset pseudoinstruction -->
                  <b-modal id ="modalResetPseudoinst" :title="modalResetPseudoinst.title" ok-variant="danger" ok-title="Reset" @ok="resetPseudoinstructionsModal(modalResetPseudoinst.element)">
                    <h6>Are you sure you want to reset the pseudoinstructions?</h6>
                  </b-modal >

                  <!-- Pseudoinstruction set table -->
                  <div class="col-lg-12 col-sm-12 architecture-scroll-y" style="margin-top: 3vh">
                    <b-table small :items="architecture.pseudoinstructions" :fields="pseudoinstFields" class="instruction_table">

                      <!-- Change the title of each column -->
                      <template slot="HEAD_signature" scope="row">
                        Detailed Syntax
                      </template>

                      <template slot="HEAD_signatureRaw" scope="row">
                        Instruction syntax
                      </template>

                      <!-- For each pseudoinstruction -->
                      <template slot="fields" slot-scope="row">
                        <b-button @click.stop="viewFielsPseudo(row.item.name, row.index, $event.target)" class="btn btn-outline-secondary btn-sm buttonBackground h-100">View Fields</b-button>
                      </template>

                      <template slot="definition" slot-scope="row">
                        <b-form-textarea v-model="row.item.definition" disabled no-resize rows="4"></b-form-textarea>
                      </template>

                      <template slot="actions" slot-scope="row">
                        <b-button @click.stop="editPseudoinstModal(row.item.name, row.index, $event.target)" class="btn btn-outline-secondary btn-sm buttonBackground h-100"><span class="far fa-edit"></span> Edit</b-button>
                        <b-button @click.stop="delPseudoinstModal(row.item.name, row.index, $event.target)" class="btn btn-outline-danger btn-sm buttonBackground h-100"><span class="far fa-trash-alt"></span> Delete</b-button> 
                      </template>
                    </b-table>

                    <!-- Pseudoinstruction fields -->
                    <b-modal size="lg" id ="modalViewPseudoFields" :title="modalViewFields.title" hide-footer @hidden="emptyFormPseudo">
                      <b-form>
                        <div id="viewFieldsPseudo">
                          <div class="col-lg-12 col-sm-12 row">
                            <div class="col-lg-2 col-2 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Name:</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Type</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Start Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>End Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">

                            </div>
                          </div>

                          <div v-if="isNaN(parseInt(formPseudoinstruction.numfieldsAux)) == false">  
                            <div v-for="i in parseInt(formPseudoinstruction.numfieldsAux)">
                              <div class="col-lg-12 col-sm-12 row">
                                <div class="col-lg-2 col-2 fields">
                                  <h6>Field {{i-1}}</h6>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" v-model="formPseudoinstruction.nameField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input v-model="formPseudoinstruction.typeField[i-1]" required type="text" size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-model="formPseudoinstruction.startBitField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-model="formPseudoinstruction.stopBitField[i-1]" required size="sm" disabled>
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </b-form>
                    </b-modal>

                    <!-- Edit pseudoinstruction -->
                    <b-modal size="lg" id ="modalEditPseudoinst" :title="modalEditPseudoinst.title" ok-title="Save" @ok="editPseudoinstVerify($event, modalEditPseudoinst.element, modalEditPseudoinst.index)" v-model="showEditPseudoinstruction" @hidden="emptyFormPseudo">
                      <b-form>

                        <!-- Page 1 -->
                        <div id="editPseudoinstForm1" v-if="instructionFormPage == 1">
                          <b-form-group label="Name:">
                            <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.name', $event)" :value="formPseudoinstruction.name" required placeholder="Enter name" :state="valid(formPseudoinstruction.name)" size="sm">
                            </b-form-input>
                          </b-form-group>

                          <b-form-group label="Number of Words:">
                            <b-form-input type="number" min="1" v-on:input="debounce('formPseudoinstruction.nwords', $event)" :value="formPseudoinstruction.nwords" required placeholder="Enter nwords" :state="valid(formPseudoinstruction.nwords)" size="sm">
                            </b-form-input>
                          </b-form-group>

                          <b-form-group label="Number of fields: ">
                            <b-form-input type="text" min="1" :max="32 * formInstruction.nwords" v-on:input="debounce('formPseudoinstruction.numfields', $event)" :value="formPseudoinstruction.numfields" required placeholder="Enter number of fields" :state="valid(formPseudoinstruction.numfields)" size="sm" @change="changeNumfield(1)">
                            </b-form-input>
                          </b-form-group>

                          <div style="display: none;">
                            <b-form-input type="text" v-model="formPseudoinstruction.numfieldsAux"></b-form-input>
                          </div>
                        </div>

                        <!-- Page 2 -->
                        <div id="editPseudoinstForm2" v-if="instructionFormPage == 2">
                          <div class="col-lg-12 col-sm-12 row">
                            <div class="col-lg-2 col-2 fields">
                              
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Name:</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Type</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>Start Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">
                              <h6>End Bit</h6>
                            </div>
                            <div class="col-lg-2 col-2 fields">

                            </div>
                          </div>

                          <div v-if="isNaN(parseInt(formPseudoinstruction.numfieldsAux)) == false"> 
                            <div v-for="i in parseInt(formPseudoinstruction.numfieldsAux)">
                              <div class="col-lg-12 col-sm-12 row">
                                <div class="col-lg-2 col-2 fields">
                                  <h6>Field {{i-1}}</h6>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.nameField['+i+'-1]', $event)" :value="formPseudoinstruction.nameField[i-1]" required :state="valid(formPseudoinstruction.nameField[i-1])" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-select v-model="formPseudoinstruction.typeField[i-1]" required :state="valid(formPseudoinstruction.typeField[i-1])" size="sm">
                                      <option value="INT-Reg">INT-Reg</option>
                                      <option value="SFP-Reg">SFP-Reg</option>
                                      <option value="DFP-Reg">DFP-Reg</option>
                                      <option value="Ctrl-Reg">Ctrl-Reg</option>
                                      <option value="inm">inm</option>
                                      <option value="address">address</option>
                                      <option value="offset_bytes">Offset Bytes</option>
                                      <option value="offset_words">Offset Words</option>
                                    </b-form-select>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formPseudoinstruction.startBitField['+i+'-1]', $event)" :value="formPseudoinstruction.startBitField[i-1]" required :state="valid(formPseudoinstruction.startBitField[i-1])" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                                <div class="col-lg-2 col-2 fields">
                                  <b-form-group>
                                    <b-form-input type="number" min="0" :max="32 * formInstruction.nwords - 1" v-on:input="debounce('formPseudoinstruction.stopBitField['+i+'-1]', $event)" :value="formPseudoinstruction.stopBitField[i-1]" required :state="valid(formPseudoinstruction.stopBitField[i-1])" size="sm">
                                    </b-form-input>
                                  </b-form-group>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>

                        <!-- Page 3 -->
                        <div id="editPseudoinstForm3" v-if="instructionFormPage == 3">
                          <b-form-group label="Pseudoinstruction Syntax Definition:">
                            <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.signature_definition', $event)" :value="formPseudoinstruction.signature_definition" placeholder="Example: move $F0 $F1" required :state="valid(formPseudoinstruction.signature_definition)" v-on:change="generateSignaturePseudo()" size="sm"></b-form-input>
                          </b-form-group>
                          <b-form-group label="Detailed Syntax:">
                            <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.signature', $event)" :value="formPseudoinstruction.signature" disabled required size="sm"></b-form-input>
                          </b-form-group>
                          <b-form-group label="Pseudoinstruction Syntax:">
                            <b-form-input type="text" v-on:input="debounce('formPseudoinstruction.signatureRaw', $event)" :value="formPseudoinstruction.signatureRaw" disabled size="sm"></b-form-input>
                          </b-form-group>
                        </div>

                        <!-- Page 4 -->
                        <div id="editPseudoinstForm4" v-if="instructionFormPage == 4">
                          <b-form-group label="Pseudoinstruction Definition:">
                            <b-form-textarea v-on:input="debounce('formPseudoinstruction.definition', $event)" :value="formPseudoinstruction.definition" placeholder="Example: add reg1 reg0 reg2" :state="valid(formPseudoinstruction.definition)" :rows="4">
                            </b-form-textarea>
                          </b-form-group>
                        </div>
                      </b-form>
                      <hr>
                      <b-pagination-nav size="sm" align="center" base-url="#" :number-of-pages="4" v-model="instructionFormPage" :link-gen="linkGen" :page-gen="pageGen"></b-pagination-nav>
                    </b-modal>

                    <!-- Delete pseudoinstruction -->
                    <b-modal id ="modalDeletPseudoinst" :title="modalDeletPseudoinst.title" ok-variant="danger" ok-title="Delete" @ok="delPseudoinstruction(modalDeletPseudoinst.index)">
                      <h6>Are you sure you want to delete the item?</h6>
                    </b-modal >
                  </div>
                </b-tab>

                <!-- Directives definition -->
                <b-tab title="Directives Definition" :disabled="advanced_mode">
                  <br>
                  <h6>Directives set:</h6>

                  <div class="col-lg-12 col-sm-12 row">
                    <div class="compMenu">
                      <b-button class="btn btn-outline-secondary btn-sm buttonBackground h-100" id="newDirectiveBtn" v-b-modal.new_directive> <span class="fas fa-plus-circle"></span> New directive</b-button>
                    </div>

                    <div class="compMenu">
                      <b-button class="btn btn-outline-danger btn-sm buttonBackground h-100" id="resetDirectives" @click="resetDirModal(architecture_name, $event)"> <span class="fas fa-power-off"></span> Reset directives</b-button>
                    </div>
                  </div>

                  <!-- New directive form -->
                  <b-modal id ="new_directive" title = "New Directive" ok-title="Save" @ok="newDirVerify($event)" v-model="showNewDirective" @hidden="emptyFormDirective">
                    <b-form>
                      <b-form-group label="Name:">
                        <b-form-input type="text" :state="valid(formDirective.name)" v-on:input="debounce('formDirective.name', $event)" :value="formDirective.name" required placeholder="Enter name" size="sm">
                        </b-form-input>
                      </b-form-group>
                      <b-form-group label="action:">
                        <b-form-select :options="actionTypes" required v-model="formDirective.action" :state="valid(formDirective.action)" size="sm"></b-form-select>
                      </b-form-group>
                      <b-form-group label="Size:" v-if="formDirective.action != '' && formDirective.action != 'data_segment' && formDirective.action != 'code_segment' && formDirective.action != 'main_function' && formDirective.action != 'kmain_function' && formDirective.action != 'global_symbol' && formDirective.action != 'data_size' && formDirective.action != 'ascii_not_null_end' && formDirective.action != 'ascii_null_end' && formDirective.action != 'align'">
                        <b-form-input type="number" :state="valid(formDirective.size)" v-on:input="debounce('formDirective.size', $event)" :value="formDirective.size" required placeholder="Enter size" size="sm" min="0">
                        </b-form-input>
                      </b-form-group>
                    </b-form>
                  </b-modal >

                  <!-- Reset directives -->
                  <b-modal id ="modalResetDir" :title="modalResetDir.title" ok-variant="danger" ok-title="Reset" @ok="resetDirectives(modalResetDir.element)">
                    <h6>Are you sure you want to reset the directives set?</h6>
                  </b-modal >

                  <!-- Directives set table -->
                  <div class="col-lg-12 col-sm-12 architecture-scroll-y" style="margin-top: 3vh">
                    <b-table small :items="architecture.directives" :fields="directivesFields" class="instruction_table">
                      <!-- For each directive -->
                      <template slot="actions" slot-scope="row" class="">
                        <b-button @click.stop="editDirModal(row.item.name, $event.target)" class="btn btn-outline-secondary btn-sm buttonBackground h-100"><span class="far fa-edit"></span> Edit</b-button>
                        <b-button @click.stop="delDirModal(row.item.name, $event.target)" class="btn btn-outline-danger btn-sm buttonBackground h-100"><span class="far fa-trash-alt"></span> Delete</b-button> 
                      </template>
                    </b-table>

                    <!-- Edit directive form -->
                    <b-modal id ="modalEditDirective" :title = "modalEditDirective.title" ok-title="Save" @ok="editDirVerify($event, modalEditDirective.element)" v-model="showEditDirective" @hidden="emptyFormDirective">
                      <b-form>
                        <b-form-group label="Name:">
                          <b-form-input type="text" :state="valid(formDirective.name)" v-on:input="debounce('formDirective.name', $event)" :value="formDirective.name" required placeholder="Enter name" size="sm">
                          </b-form-input>
                        </b-form-group>
                        <b-form-group label="action:">
                          <b-form-select :options="actionTypes" required v-model="formDirective.action" :state="valid(formDirective.action)" size="sm"></b-form-select>
                        </b-form-group>
                        <b-form-group label="Size:" v-if="formDirective.action != 'data_segment' && formDirective.action != 'code_segment' && formDirective.action != 'main_function' && formDirective.action != 'kmain_function' && formDirective.action != 'global_symbol' && formDirective.action != 'data_size' && formDirective.action != 'ascii_not_null_end' && formDirective.action != 'ascii_null_end' && formDirective.action != 'align'">
                          <b-form-input type="number" :state="valid(formDirective.size)" v-on:input="debounce('formDirective.size', $event)" :value="formDirective.size" required placeholder="Enter size" size="sm" min="0">
                          </b-form-input>
                        </b-form-group>
                      </b-form>
                    </b-modal >

                    <!-- Delete directive -->
                    <b-modal id ="modalDeletDir" :title="modalDeletDir.title" ok-variant="danger" ok-title="Delete" @ok="delDirective(modalDeletDir.element)">
                      <h6>Are you sure you want to delete the item?</h6>
                    </b-modal >
                  </div>
                </b-tab>
              </b-tabs>
            </div>
</div>
          </div>
        </div>



        <!-- Assembly view -->
        <div class="contenedor row" id="assembly" style="display:none;">

          <!-- Navbar -->
          <div class="contenedor menu row">
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm arch_btn h-100" id="arch_btn_assembly"><span class="fas fa-sitemap"></span> Architecture</b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm simulator_btn h-100" id="simulator_btn_assembly"><span class="fas fa-cogs"></span> Simulator</b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <b-dropdown right text="File" size="sm" class="btn btn-block menuGroup btn-sm nopadding" variant="outline-secondary">
                  <b-dropdown-item @click="newAssembly"><span class="fas fa-file"></span> New</b-dropdown-item>
                  <b-dropdown-item v-b-modal.load_assembly><span class="fas fa-upload"></span> Load</b-dropdown-item>
                  <b-dropdown-item v-b-modal.save_assembly><span class="fas fa-download"></span> Save</b-dropdown-item>
                  <b-dropdown-item v-b-modal.examples><span class="far fa-file-alt"></span> Examples</b-dropdown-item>
                </b-dropdown>
              </div>
            </div>

            <!-- Load assembly form -->
            <b-modal  id = "load_assembly"   title = "Load Assembly" ok-title="Load from this File" @ok="assembly_update">
              <p> Please select the assembly file to be loaded </p> 
              <b-form-file v-model="load_assembly" :state="Boolean(load_assembly)" placeholder="Choose a file..." accept=".s" @change="read_assembly" id="assembly_file"></b-form-file>
            </b-modal>

            <!-- Save assembly form -->
            <b-modal  id = "save_assembly"   title = "Save Assembly" ok-title="Save to File" @ok="assembly_save">
              <p> Please write the file name: </p> 
              <b-form-input v-on:input="debounce('save_assembly', $event)" :value="save_assembly"
                  type="text"
                  placeholder="File name where assembly will be saved">
              </b-form-input>
            </b-modal>

            <!-- Examples modal -->
            <b-modal id="examples" title="Examples" hide-footer scrollable ref="examples">
              <h6 v-if="example_available.length == 0">There's no examples at the moment</h6>
              <b-list-group>
                <b-list-group-item button v-for="item in example_available" @click="load_example(item.id)" ref="closeExample">{{item.name}}: {{item.description}}</b-list-group-item>
              </b-list-group>
            </b-modal>

            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-12 col-sm-12 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" id="compile_assembly" @click="assembly_compiler()"><span class="fas fa-sign-in-alt"></span> Compile/Linked</b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <b-dropdown right text="Library" size="sm" class="btn btn-block menuGroup btn-sm nopadding" variant="outline-secondary">
                  <b-dropdown-item v-b-modal.save_binary><span class="fas fa-plus-square"></span> Create</b-dropdown-item>
                  <b-dropdown-item v-b-modal.load_binary><span class="fas fa-upload"></span> Load Library</b-dropdown-item>
                  <b-dropdown-item @click="removeLibrary"><span class="far fa-trash-alt"></span> Remove</b-dropdown-item>
                </b-dropdown>
              </div>
            </div>

            <!-- Load binary form -->
            <b-modal  id = "load_binary"   title = "Load Binary" ok-title="Load from this File" @ok="library_update">
              <p> Please select the binary file to be loaded </p> 
              <b-form-file v-model="name_binary_load" :state="Boolean(name_binary_load)" placeholder="Choose a file..." accept=".o" @change="library_load" id="binary_file"></b-form-file>
            </b-modal>

            <!-- Save binary form -->
            <b-modal  id = "save_binary"   title = "Save Binary" ok-title="Save to File" @ok="library_save">
              <p> Please write the file name: </p> 
              <b-form-input v-on:input="debounce('name_binary_save', $event)" :value="name_binary_save"
                  type="text"
                  placeholder="File name where binary will be saved">
              </b-form-input>
            </b-modal>

            <div class="col-lg-1 col-sm-12 nopadding">

            </div>

            <div class="col-lg-2 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-12 col-sm-12 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" id="info_ass" style="background-color:#D4DB17;"><span class="fas fa-info-circle"></span> Info</b-button>
                  </div>

                  <b-popover target="info_ass" triggers="click blur">
                    <template slot="title">
                      <b-button @click="closePopover" class="close" aria-label="Close">
                        <span class="d-inline-block" aria-hidden="true">&times;</span>
                      </b-button>
                      <br>
                    </template>

                    <div class="col-lg-12 col-sm-12">
                      <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" href='https://creatorsim.github.io/' target="_blank"><span class="fas fa-question-circle" ></span> Help</b-button>
                      <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" v-b-modal.notifications><span class="fas fa-bell"></span> Show Notifications</b-button>
                      <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" v-b-modal.about><span class="fas fa-address-card"></span> About us</b-button>
                    </div>
                  </b-popover>
                </div>
              </div>
            </div>
          </div>

          <!-- Assembly textarea and library tags-->
          <div class="contenedor row">
            <div class="col-lg-12 col-sm-12" id="divAssembly">
              <h5>Assembly: (To comment a block of code press ctrl + /)</h5>
              <textarea id="textarea_assembly" rows="14" class="code-scroll-y">
              </textarea>
            </div>

            <div class="col-lg-0 col-sm-0" id="divTags" style="display:none;">
              <h5>Library tags:</h5>
              <b-list-group>
                <b-list-group-item v-for="item in update_binary.instructions_tag" v-if="item.globl==true"><b-badge pill variant="primary">{{item.tag}}</b-badge></b-list-group-item>
              </b-list-group>
            </div>
          </div>

          <!-- Compile error -->
          <b-modal  id = "modalAssemblyError" title = "Assembly Code Error" ref="errorAssembly" hide-footer>
            <div style="padding: 3%; background: #EF9A9A;">
              <h6>...</h6>
              <h6>  {{modalAssemblyError.code1}}</h6>
              <h6>* {{modalAssemblyError.code2}}</h6>
              <h6>  {{modalAssemblyError.code3}}</h6>
              <h6>...</h6>
            </div>
            <br>
            <h6>{{modalAssemblyError.error}}</h6>
            <br>
          </b-modal>
        </div>



        <!-- Simulator view -->
        <div class="contenedor row" id="simulator" style="display:none;">

        	<!-- Navbar -->
          <div class="contenedor menu row mb-3">
            <div class="col-lg-3 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm arch_btn h-100" id="arch_btn_sim"><span class="fas fa-sitemap"></span> Architecture</b-button>
                  </div>
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm assembly_btn h-100" id="assembly_btn_sim"><span class="fas fa-hashtag"></span> Assembly</b-button>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-5 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12 nopadding">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <!-- Execution actions -->
                  <div class="col-lg-12 col-sm-12">
                    <div class="col-lg-12 col-sm-12 buttons row">
                      <div class="col-lg-4 col-sm-4 buttons">
                        <b-button @click="reset()" class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100">
                          <span class="fas fa-power-off"></span>
                          Reset
                        </b-button>
                      </div>
                      <div class="col-lg-4 col-sm-4 buttons">
                        <b-button accesskey="a" class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100" @click="executeInstruction" id="inst">
                          <span class="fas fa-fast-forward"></span>
                          Inst.
                        </b-button>
                        <b-tooltip target="inst" title="Press [Alt] + A" v-if="navigator=='Chrome'"></b-tooltip>
                        <b-tooltip target="inst" title="Press [Alt] [Shift] + A" v-if="navigator=='Firefox'"></b-tooltip>
                        <b-tooltip target="inst" title="Press [Control] [Alt/Option] + A" v-if="navigator=='Mac'"></b-tooltip>
                      </div>
                      <div class="col-lg-4 col-sm-4 buttons" id="playExecution" >
                        <b-button class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100" @click="executeProgram" v-if="runExecution == false" id="run">
                          <span class="fas fa-play"></span>
                          Run
                        </b-button>
                      </div>
                      <div class="col-lg-4 col-sm-4 buttons" id="stopExecution" style="display:none;">
                        <b-button class="btn btn-outline-secondary btn-block actionsGroup btn-sm h-100" @click="stopExecution" id="stop">
                          <span class="fas fa-stop"></span>
                          Stop
                        </b-button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="col-lg-4 col-sm-12 nopadding">
              <div class="col-lg-12 col-sm-12">
                <div class="col-lg-12 col-sm-12 buttons row">
                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" v-b-modal.calculator><span class="fas fa-calculator"></span> Calculator</b-button>
                  </div>

                  <div class="col-lg-6 col-sm-6 buttons">
                    <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm h-100" id="info_sim" style="background-color:#D4DB17;"><span class="fas fa-info-circle"></span> Info</b-button>
                  </div>

                  <!-- Information popover -->
                  <b-popover target="info_sim" triggers="click blur">
                    <template slot="title">
                      <b-button @click="closePopover" class="close" aria-label="Close">
                        <span class="d-inline-block" aria-hidden="true">&times;</span>
                      </b-button>
                      <br>
                    </template>
                    <div class="col-lg-12 col-sm-12">
                      <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" href='https://creatorsim.github.io/' target="_blank"><span class="fas fa-question-circle" ></span> Help</b-button>
                      <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" v-b-modal.notifications><span class="fas fa-bell"></span> Show Notifications</b-button>
                      <b-button class="btn btn-outline-secondary btn-sm btn-block buttonBackground" v-b-modal.about><span class="fas fa-address-card"></span> About us</b-button>
                    </div>
                  </b-popover>

                  <!-- Calculator -->
                  <b-modal id="calculator" title="Floating Point Calculator" hide-footer size="lg">
                    <div class="col-lg-12 col-12 row nomargin" style="padding-bottom: 3%;">
                      <div class="col-lg-3 col-3"></div>
                      <div class="col-lg-6 col-6">
                        <div class="col-lg-12 col-12 row nomargin nopadding">
                          <div class="col-lg-6 col-6 nopadding">
                            <b-button class="btn btn-block btn-sm h-100" :variant = "calculator.variant32" @click="changeBitsCalculator(0)">32 bit</b-button>
                          </div>
                          <div class="col-lg-6 col-6 nopadding">
                            <b-button class="btn btn-block btn-sm h-100" :variant = "calculator.variant64" @click="changeBitsCalculator(1)">64 bit</b-button>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-3 col-3"></div>
                    </div>

                    <div class="col-lg-12 col-12 row nomargin" style="padding-top: 3%;">
                      <div class="col-lg-2 col-2"></div>
                      <div class="col-lg-6 col-8">
                        <b-form-input class="form-control form-control-sm" v-on:input="debounce('calculator.hexadecimal', $event)" :value="calculator.hexadecimal" @change="calculatorFunct(0)" placeholder="Enter hexadecimal" :maxlength="calculator.lengthHexadecimal"></b-form-input>
                      </div>
                      <div class="col-lg-4"></div>
                    </div>

                    <div class="col-lg-12 col-12 row nomargin nopadding">
                      <div class="col-lg-1 col-0"></div>
                      <div class="col-lg-8 col-12" style="padding: 1%;">
                        <b-img src="./images/calculator.png" fluid alt="calculator" style="width: 100%;"></b-img>
                      </div>
                      <div class="col-lg-3 col-0"></div>
                    </div>

                    <div class="col-lg-12 col-12 row nomargin nopadding">
                      <div class="col-lg-1 col-0"></div>
                      <div class="col-lg-8 col-12 nopadding">
                        <div class="col-lg-12 col-12 row nomargin nopadding">
                          <div class="col-lg-2 col-2" style="padding: 1%;">
                            <b-form-input class="form-control form-control-sm" v-on:input="debounce('calculator.sign', $event)" :value="calculator.sign" @change="calculatorFunct(1)" placeholder="Enter sign" :maxlength="calculator.lengthSign"></b-form-input>
                          </div>
                          <div class="col-lg-4 col-4" style="padding: 1%;">
                            <b-form-input class="form-control form-control-sm" v-on:input="debounce('calculator.exponent', $event)" :value="calculator.exponent" @change="calculatorFunct(1)" placeholder="Enter exponent" :maxlength="calculator.lengthExponent"></b-form-input>
                          </div>
                          <div class="col-lg-6 col-6" style="padding: 1%;">
                            <b-form-input class="form-control form-control-sm" v-on:input="debounce('calculator.mantissa', $event)" :value="calculator.mantissa" @change="calculatorFunct(1)" placeholder="Enter mantissa" :maxlength="calculator.lengthMantissa"></b-form-input>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-3 col-0"></div>
                    </div>

                    <div class="col-lg-12 col-12 row nomargin nopadding">
                      <div class="col-lg-1"></div>
                      <div class="col-lg-8 col-12 nopadding">
                        <div class="col-lg-12 col-12 row nomargin nopadding">
                          <div class="col-lg-2 col-2" style="padding: 1%; text-align: center;">
                            <span class="fas fa-long-arrow-alt-down" style=" padding: 1%;"></span>
                            <h5>-1<sup>{{calculator.sign}}</sup>   * </h5>
                          </div>
                          <div class="col-lg-4 col-4" style="padding: 1%; text-align: center;">
                            <span class="fas fa-long-arrow-alt-down" style=" padding: 1%;"></span>
                            <h5 v-if="calculator.bits == 32">2<sup>{{calculator.exponentDec}}-127</sup>   * </h5>
                            <h5 v-if="calculator.bits == 64">2<sup>{{calculator.exponentDec}}-1023</sup>   * </h5>
                          </div>
                          <div class="col-lg-6 col-6" style="padding: 1%; text-align: center;">
                            <span class="fas fa-long-arrow-alt-down" style=" padding: 1%;"></span>
                            <h5>{{calculator.mantissaDec}} = </h5>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-3" style="padding-top: 3%">
                        <b-form-input class="form-control form-control-sm" v-on:input="debounce('calculator.decimal', $event)" :value="calculator.decimal" @change="calculatorFunct(2)" placeholder="Enter decimal"></b-form-input>
                      </div>
                    </div>

                    <div class="col-lg-12 col-12" style="margin-top: 2%;">
                      <b-button class="btn btn-sm btn-block" variant="primary">Convert</b-button>
                    </div>
                  </b-modal>
                </div>
	            </div>
            </div>

          </div>

          <!-- Execution instruction -->
	  <keep-alive>
          <div class="col-lg-7 col-sm-12">
            <div class="col-lg-12 col-sm-12 table-inst-wrapper-scroll-y ">
              <b-table striped small hover :items="instructions" :fields="archInstructions" class="instructions_table" @row-clicked="breakPoint" style="cursor: pointer;" :filter-function=filter filter=" ">
                <!-- For each instruction -->
                <template slot="Break" slot-scope="row">
                  <div class="break" :id="row.index">
                    <br v-if="row.item.Break == null">
                    <b-img alt="Break" src="./images/stop_classic.gif" class="shadow" rounded="circle" style="width:auto !important;height:4vh;" v-if="row.item.Break == true">
                  </div>
                </template>
                <template slot="Address" slot-scope="row">
                  <h6>{{row.item.Address}}</h6>
                </template>
                <template slot="Label" slot-scope="row">
                  <b-badge pill variant="info">{{row.item.Label}}</b-badge>
                </template>
                <template slot="User Instructions" slot-scope="row">
                  <h6 v-if="row.item.visible == true">{{row.item.user}}</h6>
                  <h6 v-if="row.item.visible == false">&lt;&lt;Hidden&gt;&gt;</h6>
                </template>
                <template slot="Loaded Instructions" slot-scope="row">
                    <h6 v-if="row.item.visible == true">{{row.item.loaded}} <b-badge variant="info" class="border border-info shadow" style="position:relative;right:-12px; float:right;" v-if="row.item._rowVariant=='info' && enter == false">Current-Keyboard</b-badge><b-badge variant="success" class="border border-success shadow" style="position:relative;right:-12px; float:right;" v-if="row.item._rowVariant=='success'">Next</b-badge><b-badge variant="info" class="border border-info shadow" style="position:relative;right:-12px; float:right;" v-if="row.item._rowVariant=='info' && enter == null">Current</b-badge></h6>
                    <h6 v-if="row.item.visible == false">&lt;&lt;Hidden&gt;&gt; <b-badge variant="info" class="border border-info shadow" style="position:relative;right:-12px; float:right;" v-if="row.item._rowVariant=='info' && enter == null">Current</b-badge><b-badge variant="success" class="border border-success shadow" style="position:relative;right:-12px; float:right;" v-if="row.item._rowVariant=='success'">Next</b-badge><b-badge variant="info" class="border border-info shadow" style="position:relative;right:-12px; float:right;" v-if="row.item._rowVariant=='info' && enter == false">Current-Keyboard</b-badge></h6>
                </template> 
                <template slot-scope="row">
                  <h6 v-if="row.item.visible == true">{{row.item.loaded}}</h6>
                  <h6 v-if="row.item.visible == false">&lt;&lt;Hidden&gt;&gt;</h6>
                </template> 
              </b-table>
            </div>
          </div>
	  </keep-alive>

          <!-- Execution data -->
          <div class="col-lg-5 col-sm-12">

            <!-- View selector -->
            <div class="col-lg-12 col-sm-12 mb-3">
              <div class="col-lg-12 col-sm-12 buttons row">
                <div class="col-lg-4 col-sm-4 buttons">
                  <b-dropdown right :text="nameReg" size="sm" class="btn btn-block btn-sm nopadding" variant="outline-secondary" class=" h-100">
                    <b-dropdown-item @click="showIntReg">CPU-INT Registers</b-dropdown-item>
                    <b-dropdown-item @click="showFpReg">CPU-FP Registers</b-dropdown-item>
                  </b-dropdown>
                </div>
                <div class="col-lg-4 col-sm-4 buttons">
                  <b-button class="btn btn-outline-secondary btn-block opcionsGroup btn-sm  h-100" id="memory_btn"><span class="fas fa-memory"></span>
                    Memory 
                  </b-button>
                </div>
                <div class="col-lg-4 col-sm-4 buttons">
                  <b-button class="btn btn-outline-secondary btn-block opcionsGroup btn-sm h-100" id="stats_btn"><span class=" fas fa-chart-bar"></span> Stats</b-button>
                </div>
              </div>
            </div>

            <!-- Registers view -->
	    <keep-alive>
            <div class="col-lg-12 col-sm-12" id="registers">
              <b-tabs content-class="mt-3">

                <!-- Decimal view -->
                <b-tab :title="nameTabReg" active>
                  <div class="col-lg-12 col-sm-12 nopadding" v-for="item in architecture_hash">
                    <div class="col-lg-12 col-sm-12 buttons row" style="margin-bottom: 2vh;" v-if="(register_type == architecture.components[item.index].type) || (register_type == 'integer' && architecture.components[item.index].type == 'control')">
                      
                      <!-- Control and integer registers -->
                      <div class="col-lg-4 col-sm-4 buttons" v-for="item2 in architecture.components[item.index].elements" v-if="(architecture.components[item.index].type == 'integer') || (architecture.components[item.index].type == 'control')">
                        <b-button class="btn btn-outline-secondary btn-block btn-sm registers h-100" :id="popoverId(item2.name + 'Int')">
                           {{item2.name}}  <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name" class="regValue" v-if="(((item2.value).toString(2)).padStart(item2.nbits, '0')).charAt(0) == 1">{{parseInt(item2.value.toString(10))-0x100000000}}</b-badge>

                           <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name" class="regValue" v-if="(((item2.value).toString(2)).padStart(item2.nbits, '0')).charAt(0) == 0">{{(item2.value).toString(10)}}</b-badge>
                        </b-button>

                        <!-- Register popover -->
                        <b-popover :target="popoverId(item2.name + 'Int')" triggers="click blur" class="popover" >
                          <template slot="title">
                            <b-button @click="closePopover" class="close" aria-label="Close">
                              <span class="d-inline-block" aria-hidden="true">&times;</span>
                            </b-button>
                            {{item2.name}}
                          </template>

                          <table class="table table-bordered table-sm popoverText">
                            <tbody>
                              <tr>
                                <td>Hex.</td>
                                <td><b-badge style="background-color:#CEECF5; color:black;">{{"0x"+(((item2.value).toString(16)).padStart(item2.nbits/4, "0")).toUpperCase()}}</b-badge></td>
                              </tr>
                              <tr>
                                <td>Binary</td>
                                <td><b-badge style="background-color:#CEECF5; color:black;">{{(((item2.value).toString(2)).padStart(item2.nbits, "0"))}}</b-badge></td>
                              </tr>
                              <tr>
                                <td>Signed</td>
                                <td><b-badge style="background-color:#CEECF5; color:black;" v-if="(((item2.value).toString(2)).padStart(item2.nbits, '0')).charAt(0) == 1">{{parseInt(item2.value.toString(10))-0x100000000}}</b-badge>
                                  <b-badge style="background-color:#CEECF5; color:black;" v-if="(((item2.value).toString(2)).padStart(item2.nbits, '0')).charAt(0) == 0">{{(item2.value).toString(10)}}</b-badge></td>
                              </tr>
                              <tr>
                                <td>Unsig.</td>
                                <td><b-badge style="background-color:#CEECF5; color:black;">{{(item2.value).toString(10) >>> 0}}</b-badge></td>
                              </tr>
                              <tr>
                                <td>Char</td>
                                <td><b-badge style="background-color:#CEECF5; color:black;">{{hex2char8((((item2.value).toString(16)).padStart(item2.nbits/4, "0")))}}</b-badge></td>
                              </tr>
                              <tr>
                                <td>Float</td>
                                <td><b-badge style="background-color:#CEECF5; color:black;">{{hex2float("0x"+(((item2.value).toString(16)).padStart(item2.nbits/4, "0")))}}</b-badge></td>
                              </tr>
                            </tbody>
                          </table>

                          <div class="col-lg-12 col-sm-12 row" style="margin-right: 0px;margin-left: 0px;">
                            <div class="col-lg-6 col-sm-6 popoverFooter">
                              <b-form-input v-on:input="debounce('newValue', $event)" :value="newValue" type="text" size="sm"></b-form-input>
                            </div>
                            <div class="col-lg-6 col-sm-6 popoverFooter">
                              <b-button class="btn btn-primary btn-block btn-sm" @click="updateReg(item.index, item2.name, architecture.components[item.index].type)">Update</b-button>
                            </div>
                          </div>
                        </b-popover>
                      </div>

                      <div class="col-lg-4 col-sm-4 buttons" v-for="item2 in architecture.components[item.index].elements" v-if="architecture.components[item.index].type == 'floating point'">
                        <!-- Simple floating point registers -->
                        <div class="col-lg-12 col-sm-12 nopadding h-100" v-if="architecture.components[item.index].double_precision == false">
                          <b-button class="btn btn-outline-secondary btn-block btn-sm registers h-100" :id="popoverId(item2.name + 'FP')">
                            {{item2.name}}  <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name">{{item2.value}}</b-badge>
                          </b-button>

                          <!-- Register popover -->
                          <b-popover :target="popoverId(item2.name + 'FP')" triggers="click blur">
                            <template slot="title">
                              <b-button @click="closePopover" class="close" aria-label="Close">
                                <span class="d-inline-block" aria-hidden="true">&times;</span>
                              </b-button>
                              {{item2.name}}
                            </template>

                            <table class="table table-bordered table-sm popoverText">
                              <tbody>
                                <tr>
                                  <td>Hex.</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{"0x"+ bin2hex(float2bin(item2.value))}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Binary</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{float2bin(item2.value)}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Signed</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >> 0}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Unsig.</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >>> 0}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Float</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{item2.value}}</b-badge></td>
                                </tr>
                              </tbody>
                            </table>

                            <div class="col-lg-12 col-sm-12 row" style="margin-right: 0px;margin-left: 0px;">
                              <div class="col-lg-6 col-sm-6 popoverFooter">
                                <b-form-input v-on:input="debounce('newValue', $event)" :value="newValue" type="text" size="sm"></b-form-input>
                              </div>
                              <div class="col-lg-6 col-sm-6 popoverFooter">
                                <b-button class="btn btn-primary btn-block btn-sm" @click="updateReg(item.index, item2.name, architecture.components[item.index].type, architecture.components[item.index].double_precision)">Update</b-button>
                              </div>
                            </div>
                          </b-popover>
                        </div>

                        <!-- Double floating point registers -->
                        <div class="col-lg-12 col-sm-12 nopadding h-100" v-if="architecture.components[item.index].double_precision == true">
                          <b-button class="btn btn-outline-secondary btn-block btn-sm registers h-100" :id="popoverId(item2.name + 'DFP')">
                             {{item2.name}}  <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name">{{item2.value}}</b-badge>
                          </b-button>

                          <!-- Register popover -->
                          <b-popover :target="popoverId(item2.name + 'DFP')" triggers="click blur">
                            <template slot="title">
                              <b-button @click="closePopover" class="close" aria-label="Close">
                                <span class="d-inline-block" aria-hidden="true">&times;</span>
                              </b-button>
                              {{item2.name}}
                            </template>

                            <table class="table table-bordered table-sm popoverText">
                              <tbody>
                                <tr>
                                  <td>Hex.</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{"0x"+ bin2hex(double2bin(item2.value))}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Binary</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{double2bin(item2.value)}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Signed</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >> 0}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Unsig.</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >>> 0}}</b-badge></td>
                                </tr>
                                <tr>
                                  <td>Float</td>
                                  <td><b-badge style="background-color:#CEECF5; color:black;">{{item2.value}}</b-badge></td>
                                </tr>
                              </tbody>
                            </table>

                            <div class="col-lg-12 col-sm-12 row" style="margin-right: 0px;margin-left: 0px;">
                              <div class="col-lg-6 col-sm-6 popoverFooter">
                                <b-form-input v-on:input="debounce('newValue', $event)" :value="newValue" type="text" size="sm"></b-form-input>
                              </div>
                              <div class="col-lg-6 col-sm-6 popoverFooter">
                                <b-button class="btn btn-primary btn-block btn-sm" @click="updateReg(item.index, item2.name, architecture.components[item.index].type, architecture.components[item.index].double_precision)">Update</b-button>
                              </div>
                            </div>
                          </b-popover>
                        </div> 
                      </div>
                    </div>
                  </div>
                </b-tab>

                <!-- Hexadecimal view -->
                <b-tab title="Hexadecimal">
                	<div class="col-lg-12 col-sm-12 nopadding" v-for="item in architecture_hash">
                		<div class="col-lg-12 col-sm-12 buttons row" style="margin-bottom: 2vh;" v-if="(register_type == architecture.components[item.index].type) || (register_type == 'integer' && architecture.components[item.index].type == 'control')">

                			<!-- Control and integer registers -->
  	                  <div class="col-lg-4 col-sm-4 buttons" v-for="item2 in architecture.components[item.index].elements" v-if="(architecture.components[item.index].type == 'integer') || (architecture.components[item.index].type == 'control')">
  	                    <b-button class="btn btn-outline-secondary btn-block btn-sm registers h-100" :id="popoverId(item2.name)">
  	                       {{item2.name}}  <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name" class="regValue">{{(((item2.value).toString(16)).padStart(item2.nbits/4, "0")).toUpperCase()}}</b-badge>
  	                    </b-button>

                        <!-- Register popover -->
  	                    <b-popover :target="popoverId(item2.name)" triggers="click blur" class="popover" >
                          <template slot="title">
                            <b-button @click="closePopover" class="close" aria-label="Close">
                              <span class="d-inline-block" aria-hidden="true">&times;</span>
                            </b-button>
                            {{item2.name}}
                          </template>

                          <table class="table table-bordered table-sm popoverText">
  												  <tbody>
  												    <tr>
  												      <td>Hex.</td>
  												      <td><b-badge style="background-color:#CEECF5; color:black;">{{"0x"+(((item2.value).toString(16)).padStart(item2.nbits/4, "0")).toUpperCase()}}</b-badge></td>
  												    </tr>
  												    <tr>
  												      <td>Binary</td>
  												      <td><b-badge style="background-color:#CEECF5; color:black;">{{(((item2.value).toString(2)).padStart(item2.nbits, "0"))}}</b-badge></td>
  												    </tr>
  												    <tr>
  												      <td>Signed</td>
  												      <td><b-badge style="background-color:#CEECF5; color:black;" v-if="(((item2.value).toString(2)).padStart(item2.nbits, '0')).charAt(0) == 1">{{parseInt(item2.value.toString(10))-0x100000000}}</b-badge>
                                  <b-badge style="background-color:#CEECF5; color:black;" v-if="(((item2.value).toString(2)).padStart(item2.nbits, '0')).charAt(0) == 0">{{(item2.value).toString(10)}}</b-badge></td>
  												    </tr>
  												    <tr>
  												      <td>Unsig.</td>
  												      <td><b-badge style="background-color:#CEECF5; color:black;">{{(item2.value).toString(10) >>> 0}}</b-badge></td>
  												    </tr>
  												    <tr>
  												      <td>Char</td>
  												      <td><b-badge style="background-color:#CEECF5; color:black;">{{hex2char8((((item2.value).toString(16)).padStart(item2.nbits/4, "0")))}}</b-badge></td>
  												    </tr>
  												    <tr>
  												      <td>Float</td>
  												      <td><b-badge style="background-color:#CEECF5; color:black;">{{hex2float("0x"+(((item2.value).toString(16)).padStart(item2.nbits/4, "0")))}}</b-badge></td>
  												    </tr>
  												  </tbody>
  												</table>

  												<div class="col-lg-12 col-sm-12 row" style="margin-right: 0px;margin-left: 0px;">
  					            		<div class="col-lg-6 col-sm-6 popoverFooter">
  					            			<b-form-input v-on:input="debounce('newValue', $event)" :value="newValue" type="text" size="sm"></b-form-input>
  					            		</div>
  					            		<div class="col-lg-6 col-sm-6 popoverFooter">
  					            			<b-button class="btn btn-primary btn-block btn-sm" @click="updateReg(item.index, item2.name, architecture.components[item.index].type)">Update</b-button>
  					            		</div>
  				            		</div>
  								      </b-popover>
  	                  </div>

  	                  <div class="col-lg-4 col-sm-4 buttons" v-for="item2 in architecture.components[item.index].elements" v-if="architecture.components[item.index].type == 'floating point'">

  	                  	<!-- Simple floating point registers -->
  	                  	<div class="col-lg-12 col-sm-12 nopadding h-100" v-if="architecture.components[item.index].double_precision == false">
  	                  		<b-button class="btn btn-outline-secondary btn-block btn-sm registers h-100" :id="popoverId(item2.name)">
  	                      	{{item2.name}}  <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name">{{bin2hex(float2bin(item2.value))}}</b-badge>
  		                    </b-button>

                          <!-- Register popover -->
  		                    <b-popover :target="popoverId(item2.name)" triggers="click blur">
                            <template slot="title">
                              <b-button @click="closePopover" class="close" aria-label="Close">
                                <span class="d-inline-block" aria-hidden="true">&times;</span>
                              </b-button>
                              {{item2.name}}
                            </template>

  													<table class="table table-bordered table-sm popoverText">
  													  <tbody>
  													    <tr>
  													      <td>Hex.</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{"0x"+ bin2hex(float2bin(item2.value))}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Binary</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{float2bin(item2.value)}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Signed</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >> 0}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Unsig.</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >>> 0}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Float</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{item2.value}}</b-badge></td>
  													    </tr>
  													  </tbody>
  													</table>

  													<div class="col-lg-12 col-sm-12 row" style="margin-right: 0px;margin-left: 0px;">
  						            		<div class="col-lg-6 col-sm-6 popoverFooter">
  						            			<b-form-input v-on:input="debounce('newValue', $event)" :value="newValue" type="text" size="sm"></b-form-input>
  						            		</div>
  						            		<div class="col-lg-6 col-sm-6 popoverFooter">
  						            			<b-button class="btn btn-primary btn-block btn-sm" @click="updateReg(item.index, item2.name, architecture.components[item.index].type, architecture.components[item.index].double_precision)">Update</b-button>
  						            		</div>
  					            		</div>
  									      </b-popover>
  	                  	</div>

  	                  	<!-- Double floating point registers -->
  	                  	<div class="col-lg-12 col-sm-12 nopadding h-100" v-if="architecture.components[item.index].double_precision == true">
  	                  		<b-button class="btn btn-outline-secondary btn-block btn-sm registers h-100" :id="popoverId(item2.name)">
  		                       {{item2.name}}  <b-badge style="background-color:#CEECF5; color:black; font-family: monospace;" :id="item2.name">{{bin2hex(double2bin(item2.value))}}</b-badge>
  		                    </b-button>

                          <!-- Register popover -->
  		                    <b-popover :target="popoverId(item2.name)" triggers="click blur">
                            <template slot="title">
                              <b-button @click="closePopover" class="close" aria-label="Close">
                                <span class="d-inline-block" aria-hidden="true">&times;</span>
                              </b-button>
                              {{item2.name}}
                            </template>

  													<table class="table table-bordered table-sm popoverText">
  													  <tbody>
  													    <tr>
  													      <td>Hex.</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{"0x"+ bin2hex(double2bin(item2.value))}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Binary</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{double2bin(item2.value)}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Signed</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >> 0}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Unsig.</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{parseInt(item2.value.toString(), 10) >>> 0}}</b-badge></td>
  													    </tr>
  													    <tr>
  													      <td>Float</td>
  													      <td><b-badge style="background-color:#CEECF5; color:black;">{{item2.value}}</b-badge></td>
  													    </tr>
  													  </tbody>
  													</table>

  													<div class="col-lg-12 col-sm-12 row" style="margin-right: 0px;margin-left: 0px;">
  						            		<div class="col-lg-6 col-sm-6 popoverFooter">
  						            			<b-form-input v-on:input="debounce('newValue', $event)" :value="newValue" type="text" size="sm"></b-form-input>
  						            		</div>
  						            		<div class="col-lg-6 col-sm-6 popoverFooter">
  						            			<b-button class="btn btn-primary btn-block btn-sm" @click="updateReg(item.index, item2.name, architecture.components[item.index].type, architecture.components[item.index].double_precision)">Update</b-button>
  						            		</div>
  					            		</div>
  									      </b-popover>
  	                  	</div> 
  	                  </div>
  	                </div>
                  </div>
                </b-tab>
              </b-tabs>
            </div>
	    </keep-alive>

            <!-- Memory view-->
	    <keep-alive>
            <div class="col-lg-12 col-sm-12" id="memory" style="display:none;">
              <b-tabs content-class="mt-3">

                <!-- Data memory -->
                <b-tab title="Data" active>
                  <div class="col-lg-12 col-sm-12 table-mem-wrapper-scroll-y ">
                    <b-table striped small hover :items="Object.values(memory)[0]" :fields="memFields" class="memory_table">
                      <template slot="Address" slot-scope="row">
                        <h6 style="font-size: 13px">0x{{((row.item.Address + 3).toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}} - 0x{{(row.item.Address.toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}}</h6>
                      </template>
                      <template slot="Binary" slot-scope="row">
                        <h6 style="font-size: 13px">
                          <span style="border:1px solid gray;" v-if="row.item.Binary[3].Tag != null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[3].Tag == null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[3].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[2].Tag != null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[2].Tag == null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[2].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[1].Tag != null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[1].Tag == null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[1].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[0].Tag != null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[0].Tag == null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[0].Tag}}</b-badge>
                        </h6>
                      </template>
                      <template slot="Value" slot-scope="row">
                        <h6 style="font-size: 13px">{{row.item.Value}}</h6>
                      </template>
                    </b-table>
                  </div>
                </b-tab>

                <!-- Text memory -->
                <b-tab title="Text">
                  <div class="col-lg-12 col-sm-12 table-mem-wrapper-scroll-y ">
                    <b-table striped small hover :items="Object.values(memory)[1]" :fields="memFields" class="memory_table" :filter-function=filter filter=" ">
                      <template slot="Address" slot-scope="row">
                        <h6 style="font-size: 13px">0x{{((row.item.Address + 3).toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}} - 0x{{(row.item.Address.toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}}</h6>
                      </template>
                      <template slot="Binary" slot-scope="row">
                        <h6 style="font-size: 13px">
                          <span style="border:1px solid gray;" v-if="row.item.Binary[3].Tag != null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[3].Tag == null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[3].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[2].Tag != null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[2].Tag == null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[2].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[1].Tag != null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[1].Tag == null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[1].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[0].Tag != null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[0].Tag == null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[0].Tag}}</b-badge>
                        </h6>
                      </template>
                      <template slot="Value" slot-scope="row">
                        <h6 style="font-size: 13px">{{row.item.Value}}</h6>
                      </template>
                    </b-table>
                  </div>
                </b-tab>

                <!-- Stack memory -->
                <b-tab title="Stack">
                  <div class="col-lg-12 col-sm-12 table-mem-wrapper-scroll-y ">
                    <b-table striped small hover :items="unallocated_memory.concat(Object.values(memory)[2])" :fields="memFields" class="memory_table">
                      <template slot="Address" slot-scope="row">
                        <h6 style="font-size: 13px" class="text-secondary" v-if="row.item.unallocated==true">0x{{((row.item.Address + 3).toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}} - 0x{{(row.item.Address.toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}}</h6>
                        <h6 style="font-size: 13px"v-if="row.item.unallocated==false">0x{{((row.item.Address + 3).toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}} - 0x{{(row.item.Address.toString(16)).padStart(row.item.Address.length-2, "0").toUpperCase()}}</h6>
                      </template>
                      <template slot="Binary" slot-scope="row">
                        <h6 style="font-size: 13px" class="text-secondary" v-if="row.item.unallocated==true">
                          <span style="border:1px solid gray;" v-if="row.item.Binary[3].Tag != null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[3].Tag == null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[3].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[2].Tag != null">{{row.item.Binary[2].Bin.toUpperCase()}</span> <span v-if="row.item.Binary[2].Tag == null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[2].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[1].Tag != null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[1].Tag == null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[1].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[0].Tag != null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[0].Tag == null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[0].Tag}}</b-badge>
                        </h6>
                        <h6 style="font-size: 13px" v-if="row.item.unallocated==false">
                          <span style="border:1px solid gray;" v-if="row.item.Binary[3].Tag != null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[3].Tag == null">{{row.item.Binary[3].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[3].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[2].Tag != null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[2].Tag == null">{{row.item.Binary[2].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[2].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[1].Tag != null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[1].Tag == null">{{row.item.Binary[1].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[1].Tag}}</b-badge>
                          <span style="border:1px solid gray;" v-if="row.item.Binary[0].Tag != null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <span v-if="row.item.Binary[0].Tag == null">{{row.item.Binary[0].Bin.toUpperCase()}}</span> <b-badge pill variant="info" class="border border-info shadow" style="position:relative;top:-9px;">{{row.item.Binary[0].Tag}}</b-badge>
                        </h6>
                      </template>
                      <template slot="Value" slot-scope="row">
                        <h6 style="font-size: 13px" class="text-secondary" v-if="row.item.unallocated==true">{{row.item.Value}}</h6>
                        <h6 style="font-size: 13px" v-if="row.item.unallocated==false">{{row.item.Value}}</h6>
                      </template>
                    </b-table>
                  </div>
                </b-tab>
              </b-tabs>
            </div>
	    </keep-alive>

            <!-- Stats--->
            <div class="col-lg-12 col-sm-12" id="stats" style="display:none;">
              <div class="col-lg-12 col-sm-12">
                <b-table striped small hover :items="stats" :fields="statsFields" class="memory_table"></b-table>
                <br>
                <h6>Graphic</h6>
                <b-progress class="mb-3">
                  <b-progress-bar :value="stats[0].percentage" style="background:red;">{{stats[0].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[1].percentage" style="background:blue;">{{stats[1].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[2].percentage" style="background:yellow;">{{stats[2].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[3].percentage" style="background:purple;">{{stats[3].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[4].percentage" style="background:green;">{{stats[4].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[5].percentage" style="background:orange;">{{stats[5].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[6].percentage" style="background:gray;">{{stats[6].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[7].percentage" style="background:pink;">{{stats[7].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[8].percentage" style="background:teal;">{{stats[8].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[9].percentage" style="background:black;">{{stats[9].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[10].percentage" style="background:lime;">{{stats[10].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[11].percentage" style="background:indigo;">{{stats[11].abbreviation}}</b-progress-bar>
                  <b-progress-bar :value="stats[12].percentage" style="background:cyan;">{{stats[12].abbreviation}}</b-progress-bar>
                </b-progress>
              </div>
            </div>
          </div>

          <!-- Monitor -->
          <div class="col-lg-6 col-sm-12" style="margin-bottom: 2%; margin-top: 2%;">
            <div class="col-lg-12 col-sm-12">
              <div class="col-lg-2 col-sm-2">
                <b-img src="./images/monitor2.png" fluid alt="Monitor"></b-img>
              </div>
              <div class="col-lg-12 col-sm-12">
                <b-form-textarea id="textarea_display" v-model="display" rows="5" disabled no-resize></b-form-textarea>
              </div>
            </div>
          </div>

          <!-- Keyboard -->
          <div class="col-lg-6 col-sm-12" style="margin-bottom: 2%; margin-top: 2%;">
            <div class="col-lg-12 col-sm-12">
              <div class="col-lg-4 col-sm-4">
                <b-img src="./images/keyboard1.png" fluid alt="Keyboard"></b-img>
              </div>
              <div class="col-lg-12 col-sm-12">
                <b-form-textarea id="textarea_keyboard" v-on:input="debounce('keyboard', $event)" :value="keyboard" rows="5" no-resize :state = "enter"></b-form-textarea>
              </div>
            </div>

            <div class="col-lg-12 col-sm-12 row nomargin">
              <div class="col-lg-4 col-sm-4">
               
              </div>
              <div class="col-lg-4 col-sm-4">
                <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm" style="margin-top: 5%; float:right;" @click="consoleClear"><span class="fas fa-broom"></span> Clear</b-button>
              </div>
              <div class="col-lg-4 col-sm-4">
                <b-button class="btn btn-outline-secondary btn-block menuGroup btn-sm" style="margin-top: 5%; float:right;" @click="consoleEnter"><span class="fas fa-level-down-alt" style="transform: rotate(90deg);"></span> Enter</b-button>
              </div>

            </div>
          </div>
        </div>
      </template>
    </div>

    <!-- Required scripts -->
    <script src="js/min.creator_web.js"></script>
  </body>
</html>
